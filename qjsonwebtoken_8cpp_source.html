<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>swift: src/blackmisc/network/external/qjsonwebtoken.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">swift
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_9687d2aaac47be79d7525830e55feee8.html">blackmisc</a></li><li class="navelem"><a class="el" href="dir_50149a2609836f559515ca30e8019fb6.html">network</a></li><li class="navelem"><a class="el" href="dir_8ac2f839a9a2eb699089607ec3f516f3.html">external</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">qjsonwebtoken.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// The MIT License(MIT)</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Copyright(c) &lt;2016&gt; &lt;Juan Gonzalez Burgos&gt;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files(the &quot;Software&quot;), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and / or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions :</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qjsonwebtoken_8h.html">blackmisc/network/external/qjsonwebtoken.h</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;QDebug&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#a84c67b6581d78c78cd3d6ee0b30287d5">   11</a></span>&#160;<a class="code" href="class_q_json_web_token.html#a84c67b6581d78c78cd3d6ee0b30287d5">QJsonWebToken::QJsonWebToken</a>()</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;{</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <span class="comment">// create the header with default algorithm</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <a class="code" href="class_q_json_web_token.html#acd654f78d9f6cd73af47f39bfdc171db">setAlgorithmStr</a>(<span class="stringliteral">&quot;HS256&quot;</span>);</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    m_jdocPayload = <a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html#fromJson">QJsonDocument::fromJson</a>(<span class="stringliteral">&quot;{}&quot;</span>);</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <span class="comment">// default for random generation</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    m_intRandLength   = 10;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    m_strRandAlphanum = <span class="stringliteral">&quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&quot;</span>;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;}</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#a9c56fb3d5f2516d17bf7328b22366985">   22</a></span>&#160;<a class="code" href="class_q_json_web_token.html#a84c67b6581d78c78cd3d6ee0b30287d5">QJsonWebToken::QJsonWebToken</a>(<span class="keyword">const</span> <a class="code" href="class_q_json_web_token.html">QJsonWebToken</a> &amp;other) :</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    m_jdocHeader(other.m_jdocHeader),</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    m_jdocPayload(other.m_jdocPayload),</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    m_byteSignature(other.m_byteSignature),</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    m_strSecret(other.m_strSecret),</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    m_strAlgorithm(other.m_strAlgorithm)</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;{</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="comment">// void</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;}</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#ad293114a4c1253c8defdf62498dc5e00">   32</a></span>&#160;<a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html">QJsonDocument</a> <a class="code" href="class_q_json_web_token.html#ad293114a4c1253c8defdf62498dc5e00">QJsonWebToken::getHeaderJDoc</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">return</span> m_jdocHeader;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;}</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#afc1dead9cac48f140483adc8a841f72a">   37</a></span>&#160;<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> <a class="code" href="class_q_json_web_token.html#afc1dead9cac48f140483adc8a841f72a">QJsonWebToken::getHeaderQStr</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html#JsonFormat-enum">QJsonDocument::JsonFormat</a> &amp;format<span class="comment">/* = QJsonDocument::JsonFormat::Indented*/</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordflow">return</span> m_jdocHeader.<a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html#toJson">toJson</a>(format);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;}</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#a11902c14e21aabed06cdde55314abba9">   42</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_q_json_web_token.html#a11902c14e21aabed06cdde55314abba9">QJsonWebToken::setHeaderJDoc</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html">QJsonDocument</a> &amp;jdocHeader)</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;{</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">if</span> (jdocHeader.<a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html#isEmpty">isEmpty</a>() || jdocHeader.<a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html#isNull">isNull</a>() || !jdocHeader.<a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html#isObject">isObject</a>())</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    }</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="comment">// check if supported algorithm</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> strAlgorithm = jdocHeader.<a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html#object">object</a>().<a class="codeRef" href="http://doc.qt.io/qt-5/qjsonobject.html#value">value</a>(<span class="stringliteral">&quot;alg&quot;</span>).<a class="codeRef" href="http://doc.qt.io/qt-5/qjsonvalue.html#toString">toString</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">if</span> (!isAlgorithmSupported(strAlgorithm))</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    }</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    m_jdocHeader = jdocHeader;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="comment">// set also new algorithm</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    m_strAlgorithm = strAlgorithm;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#a85c15ba1f2b181b1132275a171712637">   64</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_q_json_web_token.html#a85c15ba1f2b181b1132275a171712637">QJsonWebToken::setHeaderQStr</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;strHeader)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;{</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="codeRef" href="http://doc.qt.io/qt-5/qjsonparseerror.html">QJsonParseError</a> error;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html">QJsonDocument</a> tmpHeader = <a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html#fromJson">QJsonDocument::fromJson</a>(strHeader.<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html#toUtf8">toUtf8</a>(), &amp;error);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// validate and set header</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordflow">if</span> (error.error != <a class="codeRef" href="http://doc.qt.io/qt-5/qjsonparseerror.html#ParseError-enum">QJsonParseError::NoError</a> || !<a class="code" href="class_q_json_web_token.html#a11902c14e21aabed06cdde55314abba9">setHeaderJDoc</a>(tmpHeader))</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#a9e0b82af11219f0db61ea5bef8acc586">   78</a></span>&#160;<a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html">QJsonDocument</a> <a class="code" href="class_q_json_web_token.html#a9e0b82af11219f0db61ea5bef8acc586">QJsonWebToken::getPayloadJDoc</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">return</span> m_jdocPayload;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#ac218b3217b5edd50ea66f33f6ac32248">   83</a></span>&#160;<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> <a class="code" href="class_q_json_web_token.html#ac218b3217b5edd50ea66f33f6ac32248">QJsonWebToken::getPayloadQStr</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html#JsonFormat-enum">QJsonDocument::JsonFormat</a> &amp;format<span class="comment">/* = QJsonDocument::JsonFormat::Indented*/</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">return</span> m_jdocPayload.<a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html#toJson">toJson</a>(format);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#ae850a980ba406bc3d47c8098cc538e8d">   88</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_q_json_web_token.html#ae850a980ba406bc3d47c8098cc538e8d">QJsonWebToken::setPayloadJDoc</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html">QJsonDocument</a> &amp;jdocPayload)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;{</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">if</span> (jdocPayload.<a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html#isEmpty">isEmpty</a>() || jdocPayload.<a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html#isNull">isNull</a>() || !jdocPayload.<a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html#isObject">isObject</a>())</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    m_jdocPayload = jdocPayload;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;}</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#a10016ec725279d382fc2baafa6344a14">  100</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_q_json_web_token.html#a10016ec725279d382fc2baafa6344a14">QJsonWebToken::setPayloadQStr</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;strPayload)</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;{</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="codeRef" href="http://doc.qt.io/qt-5/qjsonparseerror.html">QJsonParseError</a> error;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html">QJsonDocument</a> tmpPayload = <a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html#fromJson">QJsonDocument::fromJson</a>(strPayload.<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html#toUtf8">toUtf8</a>(), &amp;error);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="comment">// validate and set payload</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">if</span> (error.error != <a class="codeRef" href="http://doc.qt.io/qt-5/qjsonparseerror.html#ParseError-enum">QJsonParseError::NoError</a> || !<a class="code" href="class_q_json_web_token.html#ae850a980ba406bc3d47c8098cc538e8d">setPayloadJDoc</a>(tmpPayload))</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#a2bdea95ccd7be18464d4b707e05b8a86">  114</a></span>&#160;<a class="codeRef" href="http://doc.qt.io/qt-5/qbytearray.html">QByteArray</a> <a class="code" href="class_q_json_web_token.html#a2bdea95ccd7be18464d4b707e05b8a86">QJsonWebToken::getSignature</a>()</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;{</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// recalculate</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">// get header in compact mode and base64 encoded</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <a class="codeRef" href="http://doc.qt.io/qt-5/qbytearray.html">QByteArray</a> byteHeaderBase64  = <a class="code" href="class_q_json_web_token.html#afc1dead9cac48f140483adc8a841f72a">getHeaderQStr</a>(QJsonDocument::JsonFormat::Compact).<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html#toUtf8">toUtf8</a>().<a class="codeRef" href="http://doc.qt.io/qt-5/qbytearray.html#toBase64-1">toBase64</a>();</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">// get payload in compact mode and base64 encoded</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="codeRef" href="http://doc.qt.io/qt-5/qbytearray.html">QByteArray</a> bytePayloadBase64 = <a class="code" href="class_q_json_web_token.html#ac218b3217b5edd50ea66f33f6ac32248">getPayloadQStr</a>(QJsonDocument::JsonFormat::Compact).<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html#toUtf8">toUtf8</a>().<a class="codeRef" href="http://doc.qt.io/qt-5/qbytearray.html#toBase64-1">toBase64</a>();</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">// calculate signature based on chosen algorithm and secret</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    m_byteAllData = byteHeaderBase64 + <span class="stringliteral">&quot;.&quot;</span> + bytePayloadBase64;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">if</span> (m_strAlgorithm.<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html#compare-1">compare</a>(<span class="stringliteral">&quot;HS256&quot;</span>, <a class="codeRef" href="http://doc.qt.io/qt-5/qt.html#CaseSensitivity-enum">Qt::CaseSensitive</a>) == 0)      <span class="comment">// HMAC using SHA-256 hash algorithm</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        m_byteSignature = <a class="codeRef" href="http://doc.qt.io/qt-5/qmessageauthenticationcode.html#hash">QMessageAuthenticationCode::hash</a>(m_byteAllData, m_strSecret.<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html#toUtf8">toUtf8</a>(), <a class="codeRef" href="http://doc.qt.io/qt-5/qcryptographichash.html#Algorithm-enum">QCryptographicHash::Sha256</a>);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    }</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_strAlgorithm.<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html#compare-1">compare</a>(<span class="stringliteral">&quot;HS384&quot;</span>, <a class="codeRef" href="http://doc.qt.io/qt-5/qt.html#CaseSensitivity-enum">Qt::CaseSensitive</a>) == 0) <span class="comment">// HMAC using SHA-384 hash algorithm</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        m_byteSignature = <a class="codeRef" href="http://doc.qt.io/qt-5/qmessageauthenticationcode.html#hash">QMessageAuthenticationCode::hash</a>(m_byteAllData, m_strSecret.<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html#toUtf8">toUtf8</a>(), <a class="codeRef" href="http://doc.qt.io/qt-5/qcryptographichash.html#Algorithm-enum">QCryptographicHash::Sha384</a>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_strAlgorithm.<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html#compare-1">compare</a>(<span class="stringliteral">&quot;HS512&quot;</span>, <a class="codeRef" href="http://doc.qt.io/qt-5/qt.html#CaseSensitivity-enum">Qt::CaseSensitive</a>) == 0) <span class="comment">// HMAC using SHA-512 hash algorithm</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        m_byteSignature = <a class="codeRef" href="http://doc.qt.io/qt-5/qmessageauthenticationcode.html#hash">QMessageAuthenticationCode::hash</a>(m_byteAllData, m_strSecret.<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html#toUtf8">toUtf8</a>(), <a class="codeRef" href="http://doc.qt.io/qt-5/qcryptographichash.html#Algorithm-enum">QCryptographicHash::Sha512</a>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">// TODO : support other algorithms</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        m_byteSignature = <a class="codeRef" href="http://doc.qt.io/qt-5/qbytearray.html">QByteArray</a>();</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">// return recalculated</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">return</span> m_byteSignature;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#ae09dd45704158f460dd7a9ea86751ddb">  144</a></span>&#160;<a class="codeRef" href="http://doc.qt.io/qt-5/qbytearray.html">QByteArray</a> <a class="code" href="class_q_json_web_token.html#ae09dd45704158f460dd7a9ea86751ddb">QJsonWebToken::getSignatureBase64</a>()</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;{</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">// note we return through getSignature() to force recalculation</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_q_json_web_token.html#a2bdea95ccd7be18464d4b707e05b8a86">getSignature</a>().<a class="codeRef" href="http://doc.qt.io/qt-5/qbytearray.html#toBase64-1">toBase64</a>();</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#a72575b3f8b8f9ee8c5018fe8dfed5e7d">  150</a></span>&#160;<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> <a class="code" href="class_q_json_web_token.html#a72575b3f8b8f9ee8c5018fe8dfed5e7d">QJsonWebToken::getSecret</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordflow">return</span> m_strSecret;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#aec1f52ccbda097a6f26aa37a6da21849">  155</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_q_json_web_token.html#aec1f52ccbda097a6f26aa37a6da21849">QJsonWebToken::setSecret</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;strSecret)</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;{</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">if</span> (strSecret.<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html#isEmpty">isEmpty</a>() || strSecret.<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html#isNull">isNull</a>())</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    m_strSecret = strSecret;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#a622aaaea66ec795a40c82a6cfb3c4805">  167</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_q_json_web_token.html#a622aaaea66ec795a40c82a6cfb3c4805">QJsonWebToken::setRandomSecret</a>()</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    m_strSecret.<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html#resize">resize</a>(m_intRandLength);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; m_intRandLength; ++i)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        m_strSecret[i] = m_strRandAlphanum.<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html#at">at</a>(rand() % (m_strRandAlphanum.<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html#length">length</a>() - 1));</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;}</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#a31a7b1ad44f52e0e0503e54a6072592b">  176</a></span>&#160;<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> <a class="code" href="class_q_json_web_token.html#a31a7b1ad44f52e0e0503e54a6072592b">QJsonWebToken::getAlgorithmStr</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">return</span> m_strAlgorithm;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#acd654f78d9f6cd73af47f39bfdc171db">  181</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_q_json_web_token.html#acd654f78d9f6cd73af47f39bfdc171db">QJsonWebToken::setAlgorithmStr</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;strAlgorithm)</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;{</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">// check if supported algorithm</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">if</span> (!isAlgorithmSupported(strAlgorithm))</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">// set algorithm</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    m_strAlgorithm = strAlgorithm;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">// modify header</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    m_jdocHeader = <a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html#fromJson">QJsonDocument::fromJson</a>(<a class="codeRef" href="http://doc.qt.io/qt-5/qobject.html#tr">QObject::tr</a>(<span class="stringliteral">&quot;{\&quot;typ\&quot;: \&quot;JWT\&quot;, \&quot;alg\&quot; : \&quot;&quot;</span>).toUtf8()</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                                           + m_strAlgorithm.<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html#toUtf8">toUtf8</a>()</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                                           + <a class="codeRef" href="http://doc.qt.io/qt-5/qobject.html#tr">QObject::tr</a>(<span class="stringliteral">&quot;\&quot;}&quot;</span>).<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html#toUtf8">toUtf8</a>());</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#ad8dfe1bb0befe8d67bc51d967fe0ed9f">  198</a></span>&#160;<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> <a class="code" href="class_q_json_web_token.html#ad8dfe1bb0befe8d67bc51d967fe0ed9f">QJsonWebToken::getToken</a>()</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;{</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">// important to execute first to update m_byteAllData which contains header + &quot;.&quot; + payload in base64</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="codeRef" href="http://doc.qt.io/qt-5/qbytearray.html">QByteArray</a> byteSignatureBase64 = this-&gt;<a class="code" href="class_q_json_web_token.html#ae09dd45704158f460dd7a9ea86751ddb">getSignatureBase64</a>();</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">// compose token and return it</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">return</span> m_byteAllData + <span class="stringliteral">&quot;.&quot;</span> + byteSignatureBase64;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#ac33e909887072a8924700d85d431ded5">  206</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_q_json_web_token.html#ac33e909887072a8924700d85d431ded5">QJsonWebToken::setToken</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;strToken)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;{</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">// assume base64 encoded at first, if not try decoding</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordtype">bool</span> isBase64Encoded = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="codeRef" href="http://doc.qt.io/qt-5/qstringlist.html">QStringList</a> listJwtParts = strToken.<a class="codeRef" href="http://doc.qt.io/qt-5/qstring-obsolete.html#split-1">split</a>(<span class="stringliteral">&quot;.&quot;</span>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="comment">// check correct size</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span> (listJwtParts.<a class="codeRef" href="http://doc.qt.io/qt-5/qlist.html#count">count</a>() != 3)</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="comment">// check all parts are valid using another instance,</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">// so we dont overwrite this instance in case of error</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="class_q_json_web_token.html">QJsonWebToken</a> tempTokenObj;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">if</span> (!tempTokenObj.<a class="code" href="class_q_json_web_token.html#a85c15ba1f2b181b1132275a171712637">setHeaderQStr</a>(<a class="codeRef" href="http://doc.qt.io/qt-5/qbytearray.html#fromBase64">QByteArray::fromBase64</a>(listJwtParts.<a class="codeRef" href="http://doc.qt.io/qt-5/qlist.html#at">at</a>(0).toUtf8())) ||</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            !tempTokenObj.<a class="code" href="class_q_json_web_token.html#a10016ec725279d382fc2baafa6344a14">setPayloadQStr</a>(<a class="codeRef" href="http://doc.qt.io/qt-5/qbytearray.html#fromBase64">QByteArray::fromBase64</a>(listJwtParts.<a class="codeRef" href="http://doc.qt.io/qt-5/qlist.html#at">at</a>(1).toUtf8())))</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="comment">// try unencoded</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordflow">if</span> (!tempTokenObj.<a class="code" href="class_q_json_web_token.html#a85c15ba1f2b181b1132275a171712637">setHeaderQStr</a>(listJwtParts.<a class="codeRef" href="http://doc.qt.io/qt-5/qlist.html#at">at</a>(0)) ||</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                !tempTokenObj.<a class="code" href="class_q_json_web_token.html#a10016ec725279d382fc2baafa6344a14">setPayloadQStr</a>(listJwtParts.<a class="codeRef" href="http://doc.qt.io/qt-5/qlist.html#at">at</a>(1)))</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            isBase64Encoded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="comment">// set parts on this instance</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="class_q_json_web_token.html#a85c15ba1f2b181b1132275a171712637">setHeaderQStr</a>(tempTokenObj.<a class="code" href="class_q_json_web_token.html#afc1dead9cac48f140483adc8a841f72a">getHeaderQStr</a>());</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="class_q_json_web_token.html#a10016ec725279d382fc2baafa6344a14">setPayloadQStr</a>(tempTokenObj.<a class="code" href="class_q_json_web_token.html#ac218b3217b5edd50ea66f33f6ac32248">getPayloadQStr</a>());</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">if</span> (isBase64Encoded)</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="comment">// unencode</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        m_byteSignature = <a class="codeRef" href="http://doc.qt.io/qt-5/qbytearray.html#fromBase64">QByteArray::fromBase64</a>(listJwtParts.<a class="codeRef" href="http://doc.qt.io/qt-5/qlist.html#at">at</a>(2).toUtf8());</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        m_byteSignature = listJwtParts.<a class="codeRef" href="http://doc.qt.io/qt-5/qlist.html#at">at</a>(2).toUtf8();</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">// allData not valid anymore</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    m_byteAllData.<a class="codeRef" href="http://doc.qt.io/qt-5/qbytearray.html#clear">clear</a>();</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="comment">// success</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;}</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#a1529fff2c9728c4cba0e69ff8319b334">  251</a></span>&#160;<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> <a class="code" href="class_q_json_web_token.html#a1529fff2c9728c4cba0e69ff8319b334">QJsonWebToken::getRandAlphanum</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">return</span> m_strRandAlphanum;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#a8d5664f1425e422b29702bb37166b2ab">  256</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_q_json_web_token.html#a8d5664f1425e422b29702bb37166b2ab">QJsonWebToken::setRandAlphanum</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;strRandAlphanum)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;{</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span> (strRandAlphanum.<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html#isNull">isNull</a>())</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    m_strRandAlphanum = strRandAlphanum;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;}</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#a45626e424679805890d716d53c5205ad">  265</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_q_json_web_token.html#a45626e424679805890d716d53c5205ad">QJsonWebToken::getRandLength</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">return</span> m_intRandLength;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#af3ebad3bffb2e0253383ddea209e4c8b">  270</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_q_json_web_token.html#af3ebad3bffb2e0253383ddea209e4c8b">QJsonWebToken::setRandLength</a>(<span class="keywordtype">int</span> intRandLength)</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;{</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">if</span> (intRandLength &lt; 0 || intRandLength &gt; 1e6)</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    m_intRandLength = intRandLength;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#a2d2206b49b95578403539f3744fc21f7">  279</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_q_json_web_token.html#a2d2206b49b95578403539f3744fc21f7">QJsonWebToken::isValid</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">// calculate token on other instance,</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="comment">// so we dont overwrite this instance&#39;s signature</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="class_q_json_web_token.html">QJsonWebToken</a> tempTokenObj = *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">if</span> (m_byteSignature != tempTokenObj.<a class="code" href="class_q_json_web_token.html#a2bdea95ccd7be18464d4b707e05b8a86">getSignature</a>())</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;}</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#afee6146c2314ff1582414a28c4030120">  291</a></span>&#160;<a class="code" href="class_q_json_web_token.html">QJsonWebToken</a> <a class="code" href="class_q_json_web_token.html#afee6146c2314ff1582414a28c4030120">QJsonWebToken::fromTokenAndSecret</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;strToken, <span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;srtSecret)</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;{</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="class_q_json_web_token.html">QJsonWebToken</a> tempTokenObj;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">// set Token</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    tempTokenObj.<a class="code" href="class_q_json_web_token.html#ac33e909887072a8924700d85d431ded5">setToken</a>(strToken);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">// set Secret</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    tempTokenObj.<a class="code" href="class_q_json_web_token.html#aec1f52ccbda097a6f26aa37a6da21849">setSecret</a>(srtSecret);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="comment">// return</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">return</span> tempTokenObj;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;}</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#a62476bfc530c8ba0326593b1bf76b600">  302</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_q_json_web_token.html#a62476bfc530c8ba0326593b1bf76b600">QJsonWebToken::appendClaim</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;strClaimType, <span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;strValue)</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;{</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="comment">// have to make a copy of the json object, modify the copy and then put it back, sigh</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="codeRef" href="http://doc.qt.io/qt-5/qjsonobject.html">QJsonObject</a> jObj = m_jdocPayload.<a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html#object">object</a>();</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    jObj.<a class="codeRef" href="http://doc.qt.io/qt-5/qjsonobject.html#insert">insert</a>(strClaimType, strValue);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    m_jdocPayload = <a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html">QJsonDocument</a>(jObj);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#ae8efa048726803ed8bea4c489d0f6016">  310</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_q_json_web_token.html#ae8efa048726803ed8bea4c489d0f6016">QJsonWebToken::removeClaim</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;strClaimType)</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;{</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="comment">// have to make a copy of the json object, modify the copy and then put it back, sigh</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <a class="codeRef" href="http://doc.qt.io/qt-5/qjsonobject.html">QJsonObject</a> jObj = m_jdocPayload.<a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html#object">object</a>();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    jObj.<a class="codeRef" href="http://doc.qt.io/qt-5/qjsonobject.html#remove">remove</a>(strClaimType);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    m_jdocPayload = <a class="codeRef" href="http://doc.qt.io/qt-5/qjsondocument.html">QJsonDocument</a>(jObj);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;}</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="keywordtype">bool</span> QJsonWebToken::isAlgorithmSupported(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;strAlgorithm)</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;{</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="comment">// TODO : support other algorithms</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">if</span> (strAlgorithm.<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html#compare-1">compare</a>(<span class="stringliteral">&quot;HS256&quot;</span>, <a class="codeRef" href="http://doc.qt.io/qt-5/qt.html#CaseSensitivity-enum">Qt::CaseSensitive</a>) != 0 &amp;&amp; <span class="comment">// HMAC using SHA-256 hash algorithm</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            strAlgorithm.<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html#compare-1">compare</a>(<span class="stringliteral">&quot;HS384&quot;</span>, <a class="codeRef" href="http://doc.qt.io/qt-5/qt.html#CaseSensitivity-enum">Qt::CaseSensitive</a>) != 0 &amp;&amp; <span class="comment">// HMAC using SHA-384 hash algorithm</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            strAlgorithm.<a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html#compare-1">compare</a>(<span class="stringliteral">&quot;HS512&quot;</span>, <a class="codeRef" href="http://doc.qt.io/qt-5/qt.html#CaseSensitivity-enum">Qt::CaseSensitive</a>) != 0 <span class="comment">/*&amp;&amp; // HMAC using SHA-512 hash algorithm</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">        strAlgorithm.compare(&quot;RS256&quot;, Qt::CaseSensitive) != 0 &amp;&amp; // RSA using SHA-256 hash algorithm</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">        strAlgorithm.compare(&quot;RS384&quot;, Qt::CaseSensitive) != 0 &amp;&amp; // RSA using SHA-384 hash algorithm</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">        strAlgorithm.compare(&quot;RS512&quot;, Qt::CaseSensitive) != 0 &amp;&amp; // RSA using SHA-512 hash algorithm</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">        strAlgorithm.compare(&quot;ES256&quot;, Qt::CaseSensitive) != 0 &amp;&amp; // ECDSA using P-256 curve and SHA-256 hash algorithm</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">        strAlgorithm.compare(&quot;ES384&quot;, Qt::CaseSensitive) != 0 &amp;&amp; // ECDSA using P-384 curve and SHA-384 hash algorithm</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">        strAlgorithm.compare(&quot;ES512&quot;, Qt::CaseSensitive) != 0*/</span>)  <span class="comment">// ECDSA using P-521 curve and SHA-512 hash algorithm</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="class_q_json_web_token.html#af7d47b26779a6f99a53191598a5c208a">  336</a></span>&#160;<a class="codeRef" href="http://doc.qt.io/qt-5/qstringlist.html">QStringList</a> <a class="code" href="class_q_json_web_token.html#af7d47b26779a6f99a53191598a5c208a">QJsonWebToken::supportedAlgorithms</a>()</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;{</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="comment">// TODO : support other algorithms</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">return</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstringlist.html">QStringList</a>() &lt;&lt; <span class="stringliteral">&quot;HS256&quot;</span> &lt;&lt; <span class="stringliteral">&quot;HS384&quot;</span> &lt;&lt; <span class="stringliteral">&quot;HS512&quot;</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}</div>
<div class="ttc" id="aclass_q_json_web_token_html"><div class="ttname"><a href="class_q_json_web_token.html">QJsonWebToken</a></div><div class="ttdoc">QJsonWebToken : JWT (JSON Web Token) Implementation in Qt C++.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8h_source.html#l00058">qjsonwebtoken.h:59</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_a10016ec725279d382fc2baafa6344a14"><div class="ttname"><a href="class_q_json_web_token.html#a10016ec725279d382fc2baafa6344a14">QJsonWebToken::setPayloadQStr</a></div><div class="ttdeci">bool setPayloadQStr(const QString &amp;strPayload)</div><div class="ttdoc">Sets the JWT payload from a QString.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00100">qjsonwebtoken.cpp:100</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_a11902c14e21aabed06cdde55314abba9"><div class="ttname"><a href="class_q_json_web_token.html#a11902c14e21aabed06cdde55314abba9">QJsonWebToken::setHeaderJDoc</a></div><div class="ttdeci">bool setHeaderJDoc(const QJsonDocument &amp;jdocHeader)</div><div class="ttdoc">Sets the JWT header from a QJsonDocument.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00042">qjsonwebtoken.cpp:42</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_a1529fff2c9728c4cba0e69ff8319b334"><div class="ttname"><a href="class_q_json_web_token.html#a1529fff2c9728c4cba0e69ff8319b334">QJsonWebToken::getRandAlphanum</a></div><div class="ttdeci">QString getRandAlphanum() const</div><div class="ttdoc">Returns the current set of characters used to create random secrets.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00251">qjsonwebtoken.cpp:251</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_a2bdea95ccd7be18464d4b707e05b8a86"><div class="ttname"><a href="class_q_json_web_token.html#a2bdea95ccd7be18464d4b707e05b8a86">QJsonWebToken::getSignature</a></div><div class="ttdeci">QByteArray getSignature()</div><div class="ttdoc">Returns the JWT signature as a QByteArray.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00114">qjsonwebtoken.cpp:114</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_a2d2206b49b95578403539f3744fc21f7"><div class="ttname"><a href="class_q_json_web_token.html#a2d2206b49b95578403539f3744fc21f7">QJsonWebToken::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">Checks validity of current JWT with respect to secret.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00279">qjsonwebtoken.cpp:279</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_a31a7b1ad44f52e0e0503e54a6072592b"><div class="ttname"><a href="class_q_json_web_token.html#a31a7b1ad44f52e0e0503e54a6072592b">QJsonWebToken::getAlgorithmStr</a></div><div class="ttdeci">QString getAlgorithmStr() const</div><div class="ttdoc">Returns the JWT algorithm as a QString.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00176">qjsonwebtoken.cpp:176</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_a45626e424679805890d716d53c5205ad"><div class="ttname"><a href="class_q_json_web_token.html#a45626e424679805890d716d53c5205ad">QJsonWebToken::getRandLength</a></div><div class="ttdeci">int getRandLength() const</div><div class="ttdoc">Returns the current length used to create random secrets.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00265">qjsonwebtoken.cpp:265</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_a622aaaea66ec795a40c82a6cfb3c4805"><div class="ttname"><a href="class_q_json_web_token.html#a622aaaea66ec795a40c82a6cfb3c4805">QJsonWebToken::setRandomSecret</a></div><div class="ttdeci">void setRandomSecret()</div><div class="ttdoc">Creates and sets a random secret.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00167">qjsonwebtoken.cpp:167</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_a62476bfc530c8ba0326593b1bf76b600"><div class="ttname"><a href="class_q_json_web_token.html#a62476bfc530c8ba0326593b1bf76b600">QJsonWebToken::appendClaim</a></div><div class="ttdeci">void appendClaim(const QString &amp;strClaimType, const QString &amp;strValue)</div><div class="ttdoc">Convenience method to append a claim to the payload.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00302">qjsonwebtoken.cpp:302</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_a72575b3f8b8f9ee8c5018fe8dfed5e7d"><div class="ttname"><a href="class_q_json_web_token.html#a72575b3f8b8f9ee8c5018fe8dfed5e7d">QJsonWebToken::getSecret</a></div><div class="ttdeci">QString getSecret() const</div><div class="ttdoc">Returns the JWT secret as a QString.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00150">qjsonwebtoken.cpp:150</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_a84c67b6581d78c78cd3d6ee0b30287d5"><div class="ttname"><a href="class_q_json_web_token.html#a84c67b6581d78c78cd3d6ee0b30287d5">QJsonWebToken::QJsonWebToken</a></div><div class="ttdeci">QJsonWebToken()</div><div class="ttdoc">Constructor.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00011">qjsonwebtoken.cpp:11</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_a85c15ba1f2b181b1132275a171712637"><div class="ttname"><a href="class_q_json_web_token.html#a85c15ba1f2b181b1132275a171712637">QJsonWebToken::setHeaderQStr</a></div><div class="ttdeci">bool setHeaderQStr(const QString &amp;strHeader)</div><div class="ttdoc">Sets the JWT header from a QString.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00064">qjsonwebtoken.cpp:64</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_a8d5664f1425e422b29702bb37166b2ab"><div class="ttname"><a href="class_q_json_web_token.html#a8d5664f1425e422b29702bb37166b2ab">QJsonWebToken::setRandAlphanum</a></div><div class="ttdeci">void setRandAlphanum(const QString &amp;strRandAlphanum)</div><div class="ttdoc">Sets the current set of characters used to create random secrets.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00256">qjsonwebtoken.cpp:256</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_a9e0b82af11219f0db61ea5bef8acc586"><div class="ttname"><a href="class_q_json_web_token.html#a9e0b82af11219f0db61ea5bef8acc586">QJsonWebToken::getPayloadJDoc</a></div><div class="ttdeci">QJsonDocument getPayloadJDoc() const</div><div class="ttdoc">Returns the JWT payload as a QJsonDocument.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00078">qjsonwebtoken.cpp:78</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_ac218b3217b5edd50ea66f33f6ac32248"><div class="ttname"><a href="class_q_json_web_token.html#ac218b3217b5edd50ea66f33f6ac32248">QJsonWebToken::getPayloadQStr</a></div><div class="ttdeci">QString getPayloadQStr(const QJsonDocument::JsonFormat &amp;format=QJsonDocument::JsonFormat::Indented) const</div><div class="ttdoc">Returns the JWT payload as a QString.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00083">qjsonwebtoken.cpp:83</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_ac33e909887072a8924700d85d431ded5"><div class="ttname"><a href="class_q_json_web_token.html#ac33e909887072a8924700d85d431ded5">QJsonWebToken::setToken</a></div><div class="ttdeci">bool setToken(const QString &amp;strToken)</div><div class="ttdoc">Sets the complete JWT as a QString.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00206">qjsonwebtoken.cpp:206</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_acd654f78d9f6cd73af47f39bfdc171db"><div class="ttname"><a href="class_q_json_web_token.html#acd654f78d9f6cd73af47f39bfdc171db">QJsonWebToken::setAlgorithmStr</a></div><div class="ttdeci">bool setAlgorithmStr(const QString &amp;strAlgorithm)</div><div class="ttdoc">Sets the JWT algorithm from a QString.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00181">qjsonwebtoken.cpp:181</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_ad293114a4c1253c8defdf62498dc5e00"><div class="ttname"><a href="class_q_json_web_token.html#ad293114a4c1253c8defdf62498dc5e00">QJsonWebToken::getHeaderJDoc</a></div><div class="ttdeci">QJsonDocument getHeaderJDoc() const</div><div class="ttdoc">Returns the JWT header as a QJsonDocument.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00032">qjsonwebtoken.cpp:32</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_ad8dfe1bb0befe8d67bc51d967fe0ed9f"><div class="ttname"><a href="class_q_json_web_token.html#ad8dfe1bb0befe8d67bc51d967fe0ed9f">QJsonWebToken::getToken</a></div><div class="ttdeci">QString getToken()</div><div class="ttdoc">Returns the complete JWT as a QString.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00198">qjsonwebtoken.cpp:198</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_ae09dd45704158f460dd7a9ea86751ddb"><div class="ttname"><a href="class_q_json_web_token.html#ae09dd45704158f460dd7a9ea86751ddb">QJsonWebToken::getSignatureBase64</a></div><div class="ttdeci">QByteArray getSignatureBase64()</div><div class="ttdoc">Returns the JWT signature as a QByteArray.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00144">qjsonwebtoken.cpp:144</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_ae850a980ba406bc3d47c8098cc538e8d"><div class="ttname"><a href="class_q_json_web_token.html#ae850a980ba406bc3d47c8098cc538e8d">QJsonWebToken::setPayloadJDoc</a></div><div class="ttdeci">bool setPayloadJDoc(const QJsonDocument &amp;jdocPayload)</div><div class="ttdoc">Sets the JWT payload from a QJsonDocument.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00088">qjsonwebtoken.cpp:88</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_ae8efa048726803ed8bea4c489d0f6016"><div class="ttname"><a href="class_q_json_web_token.html#ae8efa048726803ed8bea4c489d0f6016">QJsonWebToken::removeClaim</a></div><div class="ttdeci">void removeClaim(const QString &amp;strClaimType)</div><div class="ttdoc">Convenience method to remove a claim from the payload.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00310">qjsonwebtoken.cpp:310</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_aec1f52ccbda097a6f26aa37a6da21849"><div class="ttname"><a href="class_q_json_web_token.html#aec1f52ccbda097a6f26aa37a6da21849">QJsonWebToken::setSecret</a></div><div class="ttdeci">bool setSecret(const QString &amp;strSecret)</div><div class="ttdoc">Sets the JWT secret from a QString.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00155">qjsonwebtoken.cpp:155</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_af3ebad3bffb2e0253383ddea209e4c8b"><div class="ttname"><a href="class_q_json_web_token.html#af3ebad3bffb2e0253383ddea209e4c8b">QJsonWebToken::setRandLength</a></div><div class="ttdeci">void setRandLength(int intRandLength)</div><div class="ttdoc">Sets the current length used to create random secrets.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00270">qjsonwebtoken.cpp:270</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_af7d47b26779a6f99a53191598a5c208a"><div class="ttname"><a href="class_q_json_web_token.html#af7d47b26779a6f99a53191598a5c208a">QJsonWebToken::supportedAlgorithms</a></div><div class="ttdeci">static QStringList supportedAlgorithms()</div><div class="ttdoc">Returns a list of the supported algorithms.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00336">qjsonwebtoken.cpp:336</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_afc1dead9cac48f140483adc8a841f72a"><div class="ttname"><a href="class_q_json_web_token.html#afc1dead9cac48f140483adc8a841f72a">QJsonWebToken::getHeaderQStr</a></div><div class="ttdeci">QString getHeaderQStr(const QJsonDocument::JsonFormat &amp;format=QJsonDocument::JsonFormat::Indented) const</div><div class="ttdoc">Returns the JWT header as a QString.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00037">qjsonwebtoken.cpp:37</a></div></div>
<div class="ttc" id="aclass_q_json_web_token_html_afee6146c2314ff1582414a28c4030120"><div class="ttname"><a href="class_q_json_web_token.html#afee6146c2314ff1582414a28c4030120">QJsonWebToken::fromTokenAndSecret</a></div><div class="ttdeci">static QJsonWebToken fromTokenAndSecret(const QString &amp;strToken, const QString &amp;srtSecret)</div><div class="ttdoc">Creates a QJsonWebToken instance from the complete JWT and a secret.</div><div class="ttdef"><b>Definition:</b> <a href="qjsonwebtoken_8cpp_source.html#l00291">qjsonwebtoken.cpp:291</a></div></div>
<div class="ttc" id="aqbytearray_html"><div class="ttname"><a href="http://doc.qt.io/qt-5/qbytearray.html">QByteArray</a></div></div>
<div class="ttc" id="aqbytearray_html_clear"><div class="ttname"><a href="http://doc.qt.io/qt-5/qbytearray.html#clear">QByteArray::clear</a></div><div class="ttdeci">void clear()</div></div>
<div class="ttc" id="aqbytearray_html_fromBase64"><div class="ttname"><a href="http://doc.qt.io/qt-5/qbytearray.html#fromBase64">QByteArray::fromBase64</a></div><div class="ttdeci">QByteArray fromBase64(const QByteArray &amp;base64, QByteArray::Base64Options options)</div></div>
<div class="ttc" id="aqbytearray_html_toBase64-1"><div class="ttname"><a href="http://doc.qt.io/qt-5/qbytearray.html#toBase64-1">QByteArray::toBase64</a></div><div class="ttdeci">QByteArray toBase64(QByteArray::Base64Options options) const const</div></div>
<div class="ttc" id="aqcryptographichash_html_Algorithm-enum"><div class="ttname"><a href="http://doc.qt.io/qt-5/qcryptographichash.html#Algorithm-enum">QCryptographicHash::Sha256</a></div><div class="ttdeci">Sha256</div></div>
<div class="ttc" id="aqjsondocument_html"><div class="ttname"><a href="http://doc.qt.io/qt-5/qjsondocument.html">QJsonDocument</a></div></div>
<div class="ttc" id="aqjsondocument_html_JsonFormat-enum"><div class="ttname"><a href="http://doc.qt.io/qt-5/qjsondocument.html#JsonFormat-enum">QJsonDocument::JsonFormat</a></div><div class="ttdeci">JsonFormat</div></div>
<div class="ttc" id="aqjsondocument_html_fromJson"><div class="ttname"><a href="http://doc.qt.io/qt-5/qjsondocument.html#fromJson">QJsonDocument::fromJson</a></div><div class="ttdeci">QJsonDocument fromJson(const QByteArray &amp;json, QJsonParseError *error)</div></div>
<div class="ttc" id="aqjsondocument_html_isEmpty"><div class="ttname"><a href="http://doc.qt.io/qt-5/qjsondocument.html#isEmpty">QJsonDocument::isEmpty</a></div><div class="ttdeci">bool isEmpty() const const</div></div>
<div class="ttc" id="aqjsondocument_html_isNull"><div class="ttname"><a href="http://doc.qt.io/qt-5/qjsondocument.html#isNull">QJsonDocument::isNull</a></div><div class="ttdeci">bool isNull() const const</div></div>
<div class="ttc" id="aqjsondocument_html_isObject"><div class="ttname"><a href="http://doc.qt.io/qt-5/qjsondocument.html#isObject">QJsonDocument::isObject</a></div><div class="ttdeci">bool isObject() const const</div></div>
<div class="ttc" id="aqjsondocument_html_object"><div class="ttname"><a href="http://doc.qt.io/qt-5/qjsondocument.html#object">QJsonDocument::object</a></div><div class="ttdeci">QJsonObject object() const const</div></div>
<div class="ttc" id="aqjsondocument_html_toJson"><div class="ttname"><a href="http://doc.qt.io/qt-5/qjsondocument.html#toJson">QJsonDocument::toJson</a></div><div class="ttdeci">QByteArray toJson() const const</div></div>
<div class="ttc" id="aqjsonobject_html"><div class="ttname"><a href="http://doc.qt.io/qt-5/qjsonobject.html">QJsonObject</a></div></div>
<div class="ttc" id="aqjsonobject_html_insert"><div class="ttname"><a href="http://doc.qt.io/qt-5/qjsonobject.html#insert">QJsonObject::insert</a></div><div class="ttdeci">QJsonObject::iterator insert(const QString &amp;key, const QJsonValue &amp;value)</div></div>
<div class="ttc" id="aqjsonobject_html_remove"><div class="ttname"><a href="http://doc.qt.io/qt-5/qjsonobject.html#remove">QJsonObject::remove</a></div><div class="ttdeci">void remove(const QString &amp;key)</div></div>
<div class="ttc" id="aqjsonobject_html_value"><div class="ttname"><a href="http://doc.qt.io/qt-5/qjsonobject.html#value">QJsonObject::value</a></div><div class="ttdeci">QJsonValue value(const QString &amp;key) const const</div></div>
<div class="ttc" id="aqjsonparseerror_html"><div class="ttname"><a href="http://doc.qt.io/qt-5/qjsonparseerror.html">QJsonParseError</a></div></div>
<div class="ttc" id="aqjsonparseerror_html_ParseError-enum"><div class="ttname"><a href="http://doc.qt.io/qt-5/qjsonparseerror.html#ParseError-enum">QJsonParseError::NoError</a></div><div class="ttdeci">NoError</div></div>
<div class="ttc" id="aqjsonvalue_html_toString"><div class="ttname"><a href="http://doc.qt.io/qt-5/qjsonvalue.html#toString">QJsonValue::toString</a></div><div class="ttdeci">QString toString() const const</div></div>
<div class="ttc" id="aqjsonwebtoken_8h_html"><div class="ttname"><a href="qjsonwebtoken_8h.html">qjsonwebtoken.h</a></div><div class="ttdoc">JWT (JSON Web Token) Implementation in Qt C++.</div></div>
<div class="ttc" id="aqlist_html_at"><div class="ttname"><a href="http://doc.qt.io/qt-5/qlist.html#at">QList::at</a></div><div class="ttdeci">const T &amp; at(int i) const const</div></div>
<div class="ttc" id="aqlist_html_count"><div class="ttname"><a href="http://doc.qt.io/qt-5/qlist.html#count">QList::count</a></div><div class="ttdeci">int count(const T &amp;value) const const</div></div>
<div class="ttc" id="aqmessageauthenticationcode_html_hash"><div class="ttname"><a href="http://doc.qt.io/qt-5/qmessageauthenticationcode.html#hash">QMessageAuthenticationCode::hash</a></div><div class="ttdeci">QByteArray hash(const QByteArray &amp;message, const QByteArray &amp;key, QCryptographicHash::Algorithm method)</div></div>
<div class="ttc" id="aqobject_html_tr"><div class="ttname"><a href="http://doc.qt.io/qt-5/qobject.html#tr">QObject::tr</a></div><div class="ttdeci">QString tr(const char *sourceText, const char *disambiguation, int n)</div></div>
<div class="ttc" id="aqstring-obsolete_html_split-1"><div class="ttname"><a href="http://doc.qt.io/qt-5/qstring-obsolete.html#split-1">QString::split</a></div><div class="ttdeci">QStringList split(const QString &amp;sep, QString::SplitBehavior behavior, Qt::CaseSensitivity cs) const const</div></div>
<div class="ttc" id="aqstring_html"><div class="ttname"><a href="http://doc.qt.io/qt-5/qstring.html">QString</a></div></div>
<div class="ttc" id="aqstring_html_at"><div class="ttname"><a href="http://doc.qt.io/qt-5/qstring.html#at">QString::at</a></div><div class="ttdeci">const QChar at(int position) const const</div></div>
<div class="ttc" id="aqstring_html_compare-1"><div class="ttname"><a href="http://doc.qt.io/qt-5/qstring.html#compare-1">QString::compare</a></div><div class="ttdeci">int compare(const QString &amp;other, Qt::CaseSensitivity cs) const const</div></div>
<div class="ttc" id="aqstring_html_isEmpty"><div class="ttname"><a href="http://doc.qt.io/qt-5/qstring.html#isEmpty">QString::isEmpty</a></div><div class="ttdeci">bool isEmpty() const const</div></div>
<div class="ttc" id="aqstring_html_isNull"><div class="ttname"><a href="http://doc.qt.io/qt-5/qstring.html#isNull">QString::isNull</a></div><div class="ttdeci">bool isNull() const const</div></div>
<div class="ttc" id="aqstring_html_length"><div class="ttname"><a href="http://doc.qt.io/qt-5/qstring.html#length">QString::length</a></div><div class="ttdeci">int length() const const</div></div>
<div class="ttc" id="aqstring_html_resize"><div class="ttname"><a href="http://doc.qt.io/qt-5/qstring.html#resize">QString::resize</a></div><div class="ttdeci">void resize(int size)</div></div>
<div class="ttc" id="aqstring_html_toUtf8"><div class="ttname"><a href="http://doc.qt.io/qt-5/qstring.html#toUtf8">QString::toUtf8</a></div><div class="ttdeci">QByteArray toUtf8() const const</div></div>
<div class="ttc" id="aqstringlist_html"><div class="ttname"><a href="http://doc.qt.io/qt-5/qstringlist.html">QStringList</a></div></div>
<div class="ttc" id="aqt_html_CaseSensitivity-enum"><div class="ttname"><a href="http://doc.qt.io/qt-5/qt.html#CaseSensitivity-enum">Qt::CaseSensitive</a></div><div class="ttdeci">CaseSensitive</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Dec 3 2023 18:38:40 for swift by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
