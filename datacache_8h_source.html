<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>swift: src/blackmisc/datacache.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">swift
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_9687d2aaac47be79d7525830e55feee8.html">blackmisc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">datacache.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="datacache_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// SPDX-FileCopyrightText: Copyright (C) 2015 swift Project Community / Contributors</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// SPDX-License-Identifier: GPL-3.0-or-later OR LicenseRef-swift-pilot-client-1</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160; </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#ifndef BLACKMISC_DATACACHE_H</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#define BLACKMISC_DATACACHE_H</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="blackmiscexport_8h.html">blackmisc/blackmiscexport.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="threadutils_8h.html">blackmisc/threadutils.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="identifier_8h.html">blackmisc/identifier.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="propertyindexref_8h.html">blackmisc/propertyindexref.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="statusmessage_8h.html">blackmisc/statusmessage.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="logcategories_8h.html">blackmisc/logcategories.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="valuecache_8h.html">blackmisc/valuecache.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="valuecacheprivate_8h.html">blackmisc/valuecacheprivate.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="variantmap_8h.html">blackmisc/variantmap.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="worker_8h.html">blackmisc/worker.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;QDateTime&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;QFileSystemWatcher&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;QJsonArray&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;QJsonObject&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;QList&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;QLockFile&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;QMap&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;QMutex&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;QObject&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;QSet&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;QPointer&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;QString&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;QStringList&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;QUuid&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;QtDebug&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;QtGlobal&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;future&gt;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_black_misc.html">BlackMisc</a></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;{</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keyword">namespace </span>Private</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    {</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_private_1_1_c_data_page_queue.html">   49</a></span>&#160;        <span class="keyword">class </span><a class="code" href="blackmiscexport_8h.html#aa81de5cca8395747bb5765234e28525a">BLACKMISC_EXPORT</a> <a class="code" href="class_black_misc_1_1_private_1_1_c_data_page_queue.html">CDataPageQueue</a> : <span class="keyword">public</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qobject.html">QObject</a></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            Q_OBJECT</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keyword">public</span>:</div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_private_1_1_c_data_page_queue.html#ab04ef893066cecb77dd521dce97e1026">   55</a></span>&#160;            <a class="code" href="class_black_misc_1_1_private_1_1_c_data_page_queue.html#ab04ef893066cecb77dd521dce97e1026">CDataPageQueue</a>(CValuePage *parent) : <a class="codeRef" href="http://doc.qt.io/qt-5/qobject.html">QObject</a>(parent), m_page(parent) {}</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_private_1_1_c_data_page_queue.html#a35ec41b37e220081ce834c3769142ab2">   59</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_private_1_1_c_data_page_queue.html#a35ec41b37e220081ce834c3769142ab2">queueValuesFromCache</a>(<span class="keyword">const</span> <a class="code" href="class_black_misc_1_1_c_value_cache_packet.html">BlackMisc::CValueCachePacket</a> &amp;values, <a class="codeRef" href="http://doc.qt.io/qt-5/qobject.html">QObject</a> *changedBy);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_private_1_1_c_data_page_queue.html#a92fd38dfa86efeaea4c99e998b477558">   62</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_private_1_1_c_data_page_queue.html#a92fd38dfa86efeaea4c99e998b477558">setQueuedValuesFromCache</a>();</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_private_1_1_c_data_page_queue.html#a638baf10ef9897d7a3a8d991b799271f">   65</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_private_1_1_c_data_page_queue.html#a638baf10ef9897d7a3a8d991b799271f">setQueuedValueFromCache</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;key);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keyword">private</span>:</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            CValuePage *m_page = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            <a class="codeRef" href="http://doc.qt.io/qt-5/qlist.html">QList&lt;std::pair&lt;CValueCachePacket, QObject *&gt;</a>&gt; m_queue;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            <a class="codeRef" href="http://doc.qt.io/qt-5/qmutex.html">QMutex</a> m_mutex;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        };</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keyword">class </span><a class="code" href="class_black_misc_1_1_c_data_cache.html">CDataCache</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html">   80</a></span>&#160;    <span class="keyword">class </span><a class="code" href="blackmiscexport_8h.html#aa81de5cca8395747bb5765234e28525a">BLACKMISC_EXPORT</a> <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html">CDataCacheRevision</a></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#ada8815061b692ccafe79aa19d333d278">   84</a></span>&#160;        <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#ada8815061b692ccafe79aa19d333d278">CDataCacheRevision</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;basename);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#a228378bf83252af730629f7a6cc5675f">   87</a></span>&#160;        <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#a228378bf83252af730629f7a6cc5675f">~CDataCacheRevision</a>();</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#a34dedafbf72dd61758cb27d9bc2c6a53">   91</a></span>&#160;        <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#a34dedafbf72dd61758cb27d9bc2c6a53">CDataCacheRevision</a>(<span class="keyword">const</span> <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html">CDataCacheRevision</a> &amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#a4f87ffc84baad391afea7fbc62381970">   92</a></span>&#160;        <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html">CDataCacheRevision</a> &amp;<a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#a4f87ffc84baad391afea7fbc62381970">operator=</a>(<span class="keyword">const</span> <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html">CDataCacheRevision</a> &amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keyword">class </span>LockGuard;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#a238e1be0bff221a1d67dcb59428badf9">  103</a></span>&#160;        LockGuard <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#a238e1be0bff221a1d67dcb59428badf9">beginUpdate</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qmap.html">QMap&lt;QString, qint64&gt;</a> &amp;timestamps, <span class="keywordtype">bool</span> updateUuid = <span class="keyword">true</span>, <span class="keywordtype">bool</span> pinsOnly = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#a363eed1b67f004613dc71cf055c1f4c8">  106</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#a363eed1b67f004613dc71cf055c1f4c8">writeNewRevision</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qmap.html">QMap&lt;QString, qint64&gt;</a> &amp;timestamps, <span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qset.html">QSet&lt;QString&gt;</a> &amp;excludeKeys = {});</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#a7a35892b4da413c52e4db46d1a99683e">  109</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#a7a35892b4da413c52e4db46d1a99683e">regenerate</a>(<span class="keyword">const</span> <a class="code" href="class_black_misc_1_1_c_value_cache_packet.html">CValueCachePacket</a> &amp;keys);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#a16f73c536879c92e26264e16de25cf46">  113</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#a16f73c536879c92e26264e16de25cf46">finishUpdate</a>(<span class="keywordtype">bool</span> keepPromises = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#af5f5070573a33ff7e517c46798925532">  116</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#af5f5070573a33ff7e517c46798925532">isFound</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#a39bda8f56131f7e91db2e14844e09d3f">  119</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#a39bda8f56131f7e91db2e14844e09d3f">isPendingRead</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#aef7295a8f44bf9471b488106d6bd9c9d">  122</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#aef7295a8f44bf9471b488106d6bd9c9d">notifyPendingWrite</a>();</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#abdee9edba23292ff0a36739d62961fdf">  125</a></span>&#160;        <a class="codeRef" href="http://doc.qt.io/qt-5/qset.html">QSet&lt;QString&gt;</a> <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#abdee9edba23292ff0a36739d62961fdf">keysWithNewerTimestamps</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#a5ca1810f6356d6afef01b872eb81e619">  128</a></span>&#160;        <span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qmap.html">QMap&lt;QString, qint64&gt;</a> &amp;<a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#a5ca1810f6356d6afef01b872eb81e619">newerTimestamps</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#a0ffbbc908df2272a05462cd0d8d8c992">  131</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#a0ffbbc908df2272a05462cd0d8d8c992">isNewerValueAvailable</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;key, qint64 timestamp);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#a4adc5f4df2d61c9b7b7c717f4f2938a3">  134</a></span>&#160;        std::future&lt;void&gt; <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#a4adc5f4df2d61c9b7b7c717f4f2938a3">promiseLoadedValue</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;key, qint64 currentTimestamp);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#a5253153dedc49162a6b300094280ab9e">  137</a></span>&#160;        std::vector&lt;std::promise&lt;void&gt;&gt; <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#a5253153dedc49162a6b300094280ab9e">loadedValuePromises</a>();</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#aacb58f3165b2b9424718b041d148fceb">  140</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#aacb58f3165b2b9424718b041d148fceb">breakPromises</a>();</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#a4c35ee97ea2f2e6222d52d0a6ca602aa">  143</a></span>&#160;        <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#a4c35ee97ea2f2e6222d52d0a6ca602aa">timestampsAsString</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#a24ddfadae1d5096017cf04cc7e71cf1f">  146</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#a24ddfadae1d5096017cf04cc7e71cf1f">setTimeToLive</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;key, <span class="keywordtype">int</span> ttl);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#a77f8945e24cc9e3448f8b441edd6879d">  149</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#a77f8945e24cc9e3448f8b441edd6879d">overrideTimestamp</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;key, qint64 timestamp);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#a513c266b9ec59abdcd342aab01054188">  152</a></span>&#160;        qint64 <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#a513c266b9ec59abdcd342aab01054188">getTimestampOnDisk</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;key);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#a0214acc9f54ae75b346344622dbf63db">  155</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#a0214acc9f54ae75b346344622dbf63db">pinValue</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;key);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#a2c5acfc8279a54a7bf629624255b6d86">  158</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#a2c5acfc8279a54a7bf629624255b6d86">deferValue</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;key);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#a5a9afe1bbc920fffe3551c5245e7c9ca">  161</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#a5a9afe1bbc920fffe3551c5245e7c9ca">admitValue</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;key);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_revision.html#aa5126fd40ad11984c349fcd3d7ad3903">  164</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html#aa5126fd40ad11984c349fcd3d7ad3903">sessionValue</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;key);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keyword">mutable</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qrecursivemutex.html">QRecursiveMutex</a> m_mutex;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordtype">bool</span> m_updateInProgress = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordtype">bool</span> m_found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordtype">bool</span> m_pendingRead = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keywordtype">bool</span> m_pendingWrite = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> m_basename;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <a class="codeRef" href="http://doc.qt.io/qt-5/qlockfile.html">QLockFile</a> m_lockFile { m_basename + <span class="stringliteral">&quot;/.lock&quot;</span> };</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <a class="codeRef" href="http://doc.qt.io/qt-5/quuid.html">QUuid</a> m_uuid;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <a class="codeRef" href="http://doc.qt.io/qt-5/qmap.html">QMap&lt;QString, qint64&gt;</a> m_timestamps;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <a class="codeRef" href="http://doc.qt.io/qt-5/qmap.html">QMap&lt;QString, qint64&gt;</a> m_originalTimestamps;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <a class="codeRef" href="http://doc.qt.io/qt-5/qmap.html">QMap&lt;QString, qint64&gt;</a> m_timesToLive;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="codeRef" href="http://doc.qt.io/qt-5/qset.html">QSet&lt;QString&gt;</a> m_pinnedValues;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="codeRef" href="http://doc.qt.io/qt-5/qset.html">QSet&lt;QString&gt;</a> m_deferredValues;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a class="codeRef" href="http://doc.qt.io/qt-5/qset.html">QSet&lt;QString&gt;</a> m_admittedValues;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <a class="codeRef" href="http://doc.qt.io/qt-5/qset.html">QSet&lt;QString&gt;</a> m_admittedQueue;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <a class="codeRef" href="http://doc.qt.io/qt-5/qmap.html">QMap&lt;QString, QUuid&gt;</a> m_sessionValues;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        std::vector&lt;std::promise&lt;void&gt;&gt; m_promises;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keyword">class </span>Session;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        std::unique_ptr&lt;Session&gt; m_session;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keyword">static</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qjsonobject.html">QJsonObject</a> toJson(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qmap.html">QMap&lt;QString, qint64&gt;</a> &amp;timestamps);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keyword">static</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qmap.html">QMap&lt;QString, qint64&gt;</a> fromJson(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qjsonobject.html">QJsonObject</a> &amp;timestamps);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keyword">static</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qjsonarray.html">QJsonArray</a> toJson(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qset.html">QSet&lt;QString&gt;</a> &amp;pins);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keyword">static</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qset.html">QSet&lt;QString&gt;</a> fromJson(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qjsonarray.html">QJsonArray</a> &amp;pins);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keyword">static</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qjsonobject.html">QJsonObject</a> toJson(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qmap.html">QMap&lt;QString, QUuid&gt;</a> &amp;session);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keyword">static</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qmap.html">QMap&lt;QString, QUuid&gt;</a> sessionFromJson(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qjsonobject.html">QJsonObject</a> &amp;session);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    };</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_serializer.html">  200</a></span>&#160;    <span class="keyword">class </span><a class="code" href="blackmiscexport_8h.html#aa81de5cca8395747bb5765234e28525a">BLACKMISC_EXPORT</a> <a class="code" href="class_black_misc_1_1_c_data_cache_serializer.html">CDataCacheSerializer</a> : <span class="keyword">public</span> <a class="code" href="class_black_misc_1_1_c_continuous_worker.html">BlackMisc::CContinuousWorker</a></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        Q_OBJECT</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_serializer.html#a5778639d28764cdbf6b72b8ae2eacd9f">  206</a></span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstringlist.html">QStringList</a> &amp;<a class="code" href="class_black_misc_1_1_c_data_cache_serializer.html#a5778639d28764cdbf6b72b8ae2eacd9f">getLogCategories</a>();</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_serializer.html#ac3a0e879e2f8cb0e993017b0701bad3e">  209</a></span>&#160;        <a class="code" href="class_black_misc_1_1_c_data_cache_serializer.html#ac3a0e879e2f8cb0e993017b0701bad3e">CDataCacheSerializer</a>(<a class="code" href="class_black_misc_1_1_c_data_cache.html">CDataCache</a> *owner, <span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;revisionFileName);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_serializer.html#aedf34f3c4b22d7c643a9396989eaedf1">  212</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data_cache_serializer.html#aedf34f3c4b22d7c643a9396989eaedf1">saveToStore</a>(<span class="keyword">const</span> <a class="code" href="class_black_misc_1_1_c_variant_map.html">BlackMisc::CVariantMap</a> &amp;values, <span class="keyword">const</span> <a class="code" href="class_black_misc_1_1_c_value_cache_packet.html">BlackMisc::CValueCachePacket</a> &amp;baseline);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_serializer.html#a429de863705d38d4e75674e13446fc68">  220</a></span>&#160;        CDataCacheRevision::LockGuard <a class="code" href="class_black_misc_1_1_c_data_cache_serializer.html#a429de863705d38d4e75674e13446fc68">loadFromStore</a>(<span class="keyword">const</span> <a class="code" href="class_black_misc_1_1_c_value_cache_packet.html">BlackMisc::CValueCachePacket</a> &amp;baseline, <span class="keywordtype">bool</span> defer = <span class="keyword">false</span>, <span class="keywordtype">bool</span> pinsOnly = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    signals:</div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache_serializer.html#ab593d503596b3217ffbf834cf9648878">  224</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data_cache_serializer.html#ab593d503596b3217ffbf834cf9648878">valuesLoadedFromStore</a>(<span class="keyword">const</span> <a class="code" href="class_black_misc_1_1_c_value_cache_packet.html">BlackMisc::CValueCachePacket</a> &amp;values, <span class="keyword">const</span> <a class="code" href="class_black_misc_1_1_c_identifier.html">BlackMisc::CIdentifier</a> &amp;originator);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;persistentStore() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordtype">void</span> applyDeferredChanges();</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordtype">void</span> deliverPromises(std::vector&lt;std::promise&lt;void&gt;&gt;);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <a class="code" href="class_black_misc_1_1_c_data_cache.html">CDataCache</a> *<span class="keyword">const</span> m_cache = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <a class="codeRef" href="http://doc.qt.io/qt-5/quuid.html">QUuid</a> m_revision;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> m_revisionFileName;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <a class="code" href="class_black_misc_1_1_c_value_cache_packet.html">BlackMisc::CValueCachePacket</a> m_deferredChanges;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    };</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache.html">  242</a></span>&#160;    <span class="keyword">class </span><a class="code" href="blackmiscexport_8h.html#aa81de5cca8395747bb5765234e28525a">BLACKMISC_EXPORT</a> <a class="code" href="class_black_misc_1_1_c_data_cache.html">CDataCache</a> : <span class="keyword">public</span> <a class="code" href="class_black_misc_1_1_c_value_cache.html">BlackMisc::CValueCache</a></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        Q_OBJECT</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache.html#a0d7a5cd6e7ae8d8c51f5288d2b7e6336">  248</a></span>&#160;        <span class="keyword">virtual</span> <a class="code" href="class_black_misc_1_1_c_data_cache.html#a0d7a5cd6e7ae8d8c51f5288d2b7e6336">~CDataCache</a>() <span class="keyword">override</span>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache.html#ac35215df01d3f5462486d9931a79244e">  251</a></span>&#160;        <span class="keyword">static</span> <a class="code" href="class_black_misc_1_1_c_data_cache.html">CDataCache</a> *<a class="code" href="class_black_misc_1_1_c_data_cache.html#ac35215df01d3f5462486d9931a79244e">instance</a>();</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache.html#a2a831b053cba1f8ee25d64c845040409">  254</a></span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;<a class="code" href="class_black_misc_1_1_c_data_cache.html#a2a831b053cba1f8ee25d64c845040409">persistentStore</a>();</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache.html#a4e0c91fa9ca87414fdbc7624eb58fe6e">  257</a></span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;<a class="code" href="class_black_misc_1_1_c_data_cache.html#a4e0c91fa9ca87414fdbc7624eb58fe6e">revisionFileName</a>();</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache.html#a8b5fa5b54de7d3a198f65231ec306a93">  260</a></span>&#160;        <span class="keyword">static</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> <a class="code" href="class_black_misc_1_1_c_data_cache.html#a8b5fa5b54de7d3a198f65231ec306a93">filenameForKey</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;key);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache.html#a8bfb33d0df48c148862163c14b77a56c">  263</a></span>&#160;        <a class="codeRef" href="http://doc.qt.io/qt-5/qstringlist.html">QStringList</a> <a class="code" href="class_black_misc_1_1_c_data_cache.html#a8bfb33d0df48c148862163c14b77a56c">enumerateStore</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache.html#a6937ace27175ce84987fb2699a0f6281">  266</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="class_black_misc_1_1_c_data_cache.html#a6937ace27175ce84987fb2699a0f6281">synchronize</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;key);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache.html#a45a8059e4823ec051706803d6cf4f497">  269</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data_cache.html#a45a8059e4823ec051706803d6cf4f497">setTimeToLive</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;key, <span class="keywordtype">int</span> ttl);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache.html#aa768c58164151a5914c55702dfad40aa">  272</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data_cache.html#aa768c58164151a5914c55702dfad40aa">renewTimestamp</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;key, qint64 timestamp);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache.html#ad45590a91aecf1d5682b525a80fde13c">  275</a></span>&#160;        qint64 <a class="code" href="class_black_misc_1_1_c_data_cache.html#ad45590a91aecf1d5682b525a80fde13c">getTimestampOnDisk</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;key);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache.html#a1cc91871a097b27000f194cc00cb6b4d">  278</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data_cache.html#a1cc91871a097b27000f194cc00cb6b4d">pinValue</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;key);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache.html#a0f510047085db8b867e1fdb4db9acc86">  281</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data_cache.html#a0f510047085db8b867e1fdb4db9acc86">deferValue</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;key);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache.html#a578fccb4eeeb9995b6f3e431060f4853">  284</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data_cache.html#a578fccb4eeeb9995b6f3e431060f4853">admitValue</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;key, <span class="keywordtype">bool</span> triggerLoad);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache.html#a08d622293ce6e9cfaaad0903e04d95c0">  287</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data_cache.html#a08d622293ce6e9cfaaad0903e04d95c0">sessionValue</a>(<span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;key);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_cache.html#ab3940d4ab11ba571d0a8b6f12723e02a">  290</a></span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;<a class="code" href="class_black_misc_1_1_c_data_cache.html#ab3940d4ab11ba571d0a8b6f12723e02a">relativeFilePath</a>();</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="class_black_misc_1_1_c_data_cache.html">CDataCache</a>();</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordtype">void</span> saveToStoreAsync(<span class="keyword">const</span> <a class="code" href="class_black_misc_1_1_c_value_cache_packet.html">BlackMisc::CValueCachePacket</a> &amp;values);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordtype">void</span> loadFromStoreAsync();</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> connectPage(Private::CValuePage *page) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <a class="codeRef" href="http://doc.qt.io/qt-5/qfilesystemwatcher.html">QFileSystemWatcher</a> m_watcher;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <a class="code" href="class_black_misc_1_1_c_data_cache_serializer.html">CDataCacheSerializer</a> *m_serializer = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <a class="code" href="class_black_misc_1_1_c_data_cache_revision.html">CDataCacheRevision</a> m_revision { persistentStore() + <span class="stringliteral">&quot;/&quot;</span> };</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_black_misc_1_1_c_data_cache_serializer.html">CDataCacheSerializer</a>; <span class="comment">// to access m_revision and protected members of CValueCache</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    };</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Trait&gt;</div>
<div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data.html">  312</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_black_misc_1_1_c_data.html">CData</a> : <span class="keyword">public</span> <a class="code" href="class_black_misc_1_1_c_cached.html">CCached</a>&lt;typename Trait::type&gt;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data.html#a4b503f7e102d0109a961681daa06c1fb">  318</a></span>&#160;        <a class="code" href="class_black_misc_1_1_c_data.html#a4b503f7e102d0109a961681daa06c1fb">CData</a>(T *owner) : <a class="code" href="class_black_misc_1_1_c_data.html">CData</a>::<a class="code" href="class_black_misc_1_1_c_cached.html">CCached</a>(<a class="code" href="class_black_misc_1_1_c_data_cache.html">CDataCache</a>::instance(), Trait::key(), Trait::humanReadable(), Trait::isValid, Trait::defaultValue(), owner)</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <span class="keywordflow">if</span> (!this-&gt;<a class="code" href="class_black_misc_1_1_c_cached.html#a2a3433f3ff0b2246b4c95f7247b75c13">isInitialized</a>())</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                this-&gt;onOwnerNameChanged([<span class="keyword">this</span>, owner] { Private::reconstruct(<span class="keyword">this</span>, owner); });</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="keywordflow">if</span> (Trait::timeToLive() &gt;= 0) { <a class="code" href="class_black_misc_1_1_c_data_cache.html#ac35215df01d3f5462486d9931a79244e">CDataCache::instance</a>()-&gt;<a class="code" href="class_black_misc_1_1_c_data_cache.html#a45a8059e4823ec051706803d6cf4f497">setTimeToLive</a>(this-&gt;<a class="code" href="class_black_misc_1_1_c_cached.html#aaea34f3de59afee42d6e7af265a35a46">getKey</a>(), Trait::timeToLive()); }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="keywordflow">if</span> (Trait::isPinned()) { <a class="code" href="class_black_misc_1_1_c_data_cache.html#ac35215df01d3f5462486d9931a79244e">CDataCache::instance</a>()-&gt;<a class="code" href="class_black_misc_1_1_c_data_cache.html#a1cc91871a097b27000f194cc00cb6b4d">pinValue</a>(this-&gt;<a class="code" href="class_black_misc_1_1_c_cached.html#aaea34f3de59afee42d6e7af265a35a46">getKey</a>()); }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <span class="keywordflow">if</span> (Trait::isDeferred()) { <a class="code" href="class_black_misc_1_1_c_data_cache.html#ac35215df01d3f5462486d9931a79244e">CDataCache::instance</a>()-&gt;<a class="code" href="class_black_misc_1_1_c_data_cache.html#a0f510047085db8b867e1fdb4db9acc86">deferValue</a>(this-&gt;<a class="code" href="class_black_misc_1_1_c_cached.html#aaea34f3de59afee42d6e7af265a35a46">getKey</a>()); }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <span class="keywordflow">if</span> (Trait::isSession()) { <a class="code" href="class_black_misc_1_1_c_data_cache.html#ac35215df01d3f5462486d9931a79244e">CDataCache::instance</a>()-&gt;<a class="code" href="class_black_misc_1_1_c_data_cache.html#a08d622293ce6e9cfaaad0903e04d95c0">sessionValue</a>(this-&gt;<a class="code" href="class_black_misc_1_1_c_cached.html#aaea34f3de59afee42d6e7af265a35a46">getKey</a>()); }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            static_assert(!(Trait::isPinned() &amp;&amp; Trait::isDeferred()), <span class="stringliteral">&quot;trait can not be both pinned and deferred&quot;</span>);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> F&gt;</div>
<div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data.html#ab7e221aa73f137f1d772a505496cb083">  337</a></span>&#160;        <a class="code" href="class_black_misc_1_1_c_data.html#ab7e221aa73f137f1d772a505496cb083">CData</a>(T *owner, F slot) : <a class="code" href="class_black_misc_1_1_c_data.html">CData</a>(owner)</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            this-&gt;<a class="code" href="class_black_misc_1_1_c_cached.html#a760d5df89cc1e62ed5934baafdc9cf73">setNotifySlot</a>(slot);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data.html#a8ae3da803c9e4356f3bf3b729306eca4">  343</a></span>&#160;        <a class="code" href="class_black_misc_1_1_c_status_message.html">CStatusMessage</a> <a class="code" href="class_black_misc_1_1_c_data.html#a8ae3da803c9e4356f3bf3b729306eca4">set</a>(<span class="keyword">const</span> <span class="keyword">typename</span> Trait::type &amp;value, qint64 timestamp = 0)</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <a class="code" href="class_black_misc_1_1_c_data_cache.html#ac35215df01d3f5462486d9931a79244e">CDataCache::instance</a>()-&gt;<a class="code" href="class_black_misc_1_1_c_data_cache.html#a578fccb4eeeb9995b6f3e431060f4853">admitValue</a>(this-&gt;<a class="code" href="class_black_misc_1_1_c_cached.html#aaea34f3de59afee42d6e7af265a35a46">getKey</a>(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_black_misc_1_1_c_cached.html#a579f979a40f4aef9e09db3937c194a34">CCached&lt;typename Trait::type&gt;::set</a>(value, timestamp);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data.html#a22cb0e433f5813731b59fb3a211350c9">  350</a></span>&#160;        <a class="code" href="class_black_misc_1_1_c_status_message.html">CStatusMessage</a> <a class="code" href="class_black_misc_1_1_c_data.html#a22cb0e433f5813731b59fb3a211350c9">setProperty</a>(<a class="code" href="class_black_misc_1_1_c_property_index_ref.html">CPropertyIndexRef</a> index, <span class="keyword">const</span> <a class="code" href="class_black_misc_1_1_c_variant.html">CVariant</a> &amp;value, qint64 timestamp = 0)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            <a class="code" href="class_black_misc_1_1_c_data_cache.html#ac35215df01d3f5462486d9931a79244e">CDataCache::instance</a>()-&gt;<a class="code" href="class_black_misc_1_1_c_data_cache.html#a578fccb4eeeb9995b6f3e431060f4853">admitValue</a>(this-&gt;<a class="code" href="class_black_misc_1_1_c_cached.html#aaea34f3de59afee42d6e7af265a35a46">getKey</a>(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_black_misc_1_1_c_cached.html#a4e496976a6e1966618eaac048de3f9ee">CCached&lt;typename Trait::type&gt;::setProperty</a>(index, value, timestamp);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data.html#a75f69fd53214774b93b57a8b45bf4169">  357</a></span>&#160;        <a class="code" href="class_black_misc_1_1_c_status_message.html">CStatusMessage</a> <a class="code" href="class_black_misc_1_1_c_data.html#a75f69fd53214774b93b57a8b45bf4169">setDefault</a>() { <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_black_misc_1_1_c_data.html#a8ae3da803c9e4356f3bf3b729306eca4">set</a>(Trait::defaultValue()); }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data.html#aa390e151a71f6fa384563676258949ce">  360</a></span>&#160;        <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> <a class="code" href="class_black_misc_1_1_c_data.html#aa390e151a71f6fa384563676258949ce">getFilename</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="class_black_misc_1_1_c_data_cache.html#a8b5fa5b54de7d3a198f65231ec306a93">CDataCache::filenameForKey</a>(this-&gt;<a class="code" href="class_black_misc_1_1_c_cached.html#aaea34f3de59afee42d6e7af265a35a46">getKey</a>()); }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data.html#acde5a66c00255d134d9997b7dfd2f6ee">  363</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="class_black_misc_1_1_c_data.html#acde5a66c00255d134d9997b7dfd2f6ee">isStale</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> Trait::timeToLive() &gt;= 0 &amp;&amp; this-&gt;<a class="code" href="class_black_misc_1_1_c_cached.html#aea8ff7336e9d7d51b57987d6202ac319">getTimestamp</a>() + Trait::timeToLive() &gt; <a class="codeRef" href="http://doc.qt.io/qt-5/qdatetime.html#currentMSecsSinceEpoch">QDateTime::currentMSecsSinceEpoch</a>(); }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data.html#abb2b4594b64893247df9bcf1f17cce5d">  366</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data.html#abb2b4594b64893247df9bcf1f17cce5d">renewTimestamp</a>(qint64 timestamp) { <span class="keywordflow">return</span> <a class="code" href="class_black_misc_1_1_c_data_cache.html#ac35215df01d3f5462486d9931a79244e">CDataCache::instance</a>()-&gt;<a class="code" href="class_black_misc_1_1_c_data_cache.html#aa768c58164151a5914c55702dfad40aa">renewTimestamp</a>(this-&gt;<a class="code" href="class_black_misc_1_1_c_cached.html#aaea34f3de59afee42d6e7af265a35a46">getKey</a>(), timestamp); }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data.html#a88669e532bf9353f3d27ebaca522ebcd">  369</a></span>&#160;        <a class="codeRef" href="http://doc.qt.io/qt-5/qdatetime.html">QDateTime</a> <a class="code" href="class_black_misc_1_1_c_data.html#a88669e532bf9353f3d27ebaca522ebcd">getAvailableTimestamp</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="keyword">        </span>{</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            <span class="keywordflow">if</span> (Trait::isDeferred()) { <span class="keywordflow">return</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qdatetime.html#fromMSecsSinceEpoch">QDateTime::fromMSecsSinceEpoch</a>(<a class="code" href="class_black_misc_1_1_c_data_cache.html#ac35215df01d3f5462486d9931a79244e">CDataCache::instance</a>()-&gt;getTimestampOnDisk(this-&gt;<a class="code" href="class_black_misc_1_1_c_cached.html#aaea34f3de59afee42d6e7af265a35a46">getKey</a>())); }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <span class="keywordflow">return</span> this-&gt;<a class="code" href="class_black_misc_1_1_c_cached.html#aea8ff7336e9d7d51b57987d6202ac319">getTimestamp</a>();</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data.html#a07ad93f148377bd019ee662b5c478e9d">  376</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data.html#a07ad93f148377bd019ee662b5c478e9d">admit</a>()</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            <span class="keywordflow">if</span> (Trait::isDeferred()) { <a class="code" href="class_black_misc_1_1_c_data_cache.html#ac35215df01d3f5462486d9931a79244e">CDataCache::instance</a>()-&gt;<a class="code" href="class_black_misc_1_1_c_data_cache.html#a578fccb4eeeb9995b6f3e431060f4853">admitValue</a>(this-&gt;<a class="code" href="class_black_misc_1_1_c_cached.html#aaea34f3de59afee42d6e7af265a35a46">getKey</a>(), <span class="keyword">true</span>); }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data.html#a0ecb978f561df53a38ff9b9592450229">  382</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data.html#a0ecb978f561df53a38ff9b9592450229">synchronize</a>()</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <span class="keyword">auto</span> *queue = this-&gt;m_page-&gt;template findChild&lt;Private::CDataPageQueue *&gt;();</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            Q_ASSERT(queue);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            this-&gt;<a class="code" href="class_black_misc_1_1_c_data.html#a07ad93f148377bd019ee662b5c478e9d">admit</a>();</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> key(this-&gt;<a class="code" href="class_black_misc_1_1_c_cached.html#aaea34f3de59afee42d6e7af265a35a46">getKey</a>());</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <a class="code" href="class_black_misc_1_1_c_data_cache.html#ac35215df01d3f5462486d9931a79244e">CDataCache::instance</a>()-&gt;<a class="code" href="class_black_misc_1_1_c_data_cache.html#a6937ace27175ce84987fb2699a0f6281">synchronize</a>(key);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <a class="code" href="class_black_misc_1_1_c_data_cache.html#ac35215df01d3f5462486d9931a79244e">CDataCache::instance</a>()-&gt;<a class="code" href="class_black_misc_1_1_c_data_cache.html#a6937ace27175ce84987fb2699a0f6281">synchronize</a>(key); <span class="comment">// if load was in progress when admit() was called, synchronize with the next load</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="comment">// run in page thread</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment"></span>            <span class="keywordflow">if</span> (<a class="code" href="class_black_misc_1_1_c_thread_utils.html#abc2347825105140bedb6d779395f4533">CThreadUtils::isInThisThread</a>(this-&gt;m_page)) { queue-&gt;setQueuedValueFromCache(key); }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                <a class="codeRef" href="http://doc.qt.io/qt-5/qpointer.html">QPointer&lt;QObject&gt;</a> myself(queue);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                <a class="codeRef" href="http://doc.qt.io/qt-5/qtimer.html#singleShot-prop">QTimer::singleShot</a>(0, queue, [=] {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                    <span class="keywordflow">if</span> (!myself) { <span class="keywordflow">return</span>; }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                    queue-&gt;setQueuedValueFromCache(key);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                });</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data.html#a64aeb42be80a42e4d5a02ce91bf45459">  406</a></span>&#160;        <a class="code" href="class_black_misc_1_1_c_status_message.html">CStatusMessage</a> <a class="code" href="class_black_misc_1_1_c_data.html#a64aeb42be80a42e4d5a02ce91bf45459">setAndSave</a>(<span class="keyword">const</span> <span class="keyword">typename</span> Trait::type &amp;value, qint64 timestamp = 0) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00407"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data.html#ae541fc0908a2222825b9594fc1688188">  407</a></span>&#160;        <a class="code" href="class_black_misc_1_1_c_status_message.html">CStatusMessage</a> <a class="code" href="class_black_misc_1_1_c_data.html#ae541fc0908a2222825b9594fc1688188">setAndSaveProperty</a>(<a class="code" href="class_black_misc_1_1_c_property_index_ref.html">CPropertyIndexRef</a> index, <span class="keyword">const</span> <a class="code" href="class_black_misc_1_1_c_variant.html">CVariant</a> &amp;value, qint64 timestamp = 0) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data.html#aa9a18bd2fa9b2d4f800c6345f0f48dd6">  411</a></span>&#160;        <a class="code" href="class_black_misc_1_1_c_status_message.html">CStatusMessage</a> <a class="code" href="class_black_misc_1_1_c_data.html#aa9a18bd2fa9b2d4f800c6345f0f48dd6">save</a>() = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    };</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Trait&gt;</div>
<div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_read_only.html">  419</a></span>&#160;    <span class="keyword">class </span><a class="code" href="class_black_misc_1_1_c_data_read_only.html">CDataReadOnly</a> : <span class="keyword">public</span> <a class="code" href="class_black_misc_1_1_c_data.html">BlackMisc::CData</a>&lt;Trait&gt;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="keyword">using</span> <a class="code" href="class_black_misc_1_1_c_data.html">CData&lt;Trait&gt;::CData</a>;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_read_only.html#abbd6992bbbc5e607410d5145a99fd441">  427</a></span>&#160;        <a class="code" href="class_black_misc_1_1_c_status_message.html">CStatusMessage</a> <a class="code" href="class_black_misc_1_1_c_data_read_only.html#abbd6992bbbc5e607410d5145a99fd441">set</a>(<span class="keyword">const</span> <span class="keyword">typename</span> Trait::type &amp;value, qint64 timestamp = 0) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00428"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_read_only.html#a14f3bf65598c34da0b025376062c5977">  428</a></span>&#160;        <a class="code" href="class_black_misc_1_1_c_status_message.html">CStatusMessage</a> <a class="code" href="class_black_misc_1_1_c_data_read_only.html#a14f3bf65598c34da0b025376062c5977">setProperty</a>(<a class="code" href="class_black_misc_1_1_c_property_index_ref.html">CPropertyIndexRef</a> index, <span class="keyword">const</span> <a class="code" href="class_black_misc_1_1_c_variant.html">CVariant</a> &amp;value, qint64 timestamp = 0) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00429"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_read_only.html#a0f6292283500c4592495daa4d39dbbc9">  429</a></span>&#160;        <a class="code" href="class_black_misc_1_1_c_status_message.html">CStatusMessage</a> <a class="code" href="class_black_misc_1_1_c_data_read_only.html#a0f6292283500c4592495daa4d39dbbc9">setDefault</a>() = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00430"></a><span class="lineno"><a class="line" href="class_black_misc_1_1_c_data_read_only.html#aadf08627d5f5307972d490ed1253e893">  430</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_black_misc_1_1_c_data_read_only.html#aadf08627d5f5307972d490ed1253e893">renewTimestamp</a>(qint64 timestamp) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    };</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="struct_black_misc_1_1_t_data_trait.html">  438</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_black_misc_1_1_t_data_trait.html">TDataTrait</a></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    {</div>
<div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="struct_black_misc_1_1_t_data_trait.html#a6cc0ffba04594c1b4ca012ea523724df">  441</a></span>&#160;        <span class="keyword">using</span> <a class="code" href="struct_black_misc_1_1_t_data_trait.html#a6cc0ffba04594c1b4ca012ea523724df">type</a> = T;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno"><a class="line" href="struct_black_misc_1_1_t_data_trait.html#a434bda91aae53104e2d6d4b33f4aa849">  444</a></span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="struct_black_misc_1_1_t_data_trait.html#a434bda91aae53104e2d6d4b33f4aa849">key</a>()</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            qFatal(<span class="stringliteral">&quot;Not implemented&quot;</span>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        }</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="struct_black_misc_1_1_t_data_trait.html#a3815c6d6a13d015acc2719a9452d86c4">  451</a></span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;<a class="code" href="struct_black_misc_1_1_t_data_trait.html#a3815c6d6a13d015acc2719a9452d86c4">humanReadable</a>()</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            <span class="keyword">static</span> <span class="keyword">const</span> <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> name;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <span class="keywordflow">return</span> name;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno"><a class="line" href="struct_black_misc_1_1_t_data_trait.html#af6a400d83bbd0486d9fb393e5e2dff03">  459</a></span>&#160;        <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="struct_black_misc_1_1_t_data_trait.html#af6a400d83bbd0486d9fb393e5e2dff03">isValid</a>(<span class="keyword">const</span> T &amp;value, <a class="codeRef" href="http://doc.qt.io/qt-5/qstring.html">QString</a> &amp;reason)</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            Q_UNUSED(value);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            Q_UNUSED(reason);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00468"></a><span class="lineno"><a class="line" href="struct_black_misc_1_1_t_data_trait.html#ac41a4bf2600fd0894166cd8826100af6">  468</a></span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> T &amp;<a class="code" href="struct_black_misc_1_1_t_data_trait.html#ac41a4bf2600fd0894166cd8826100af6">defaultValue</a>()</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="keyword">static</span> <span class="keyword">const</span> T def {};</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="keywordflow">return</span> def;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="struct_black_misc_1_1_t_data_trait.html#aaeb1824a0952c1953e8f2f97750423c1">  476</a></span>&#160;        <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="struct_black_misc_1_1_t_data_trait.html#aaeb1824a0952c1953e8f2f97750423c1">timeToLive</a>() { <span class="keywordflow">return</span> -1; }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="struct_black_misc_1_1_t_data_trait.html#aef9fafa359e3994ef9db5e7e693c99f2">  480</a></span>&#160;        <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> <a class="code" href="struct_black_misc_1_1_t_data_trait.html#aef9fafa359e3994ef9db5e7e693c99f2">isPinned</a>() { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno"><a class="line" href="struct_black_misc_1_1_t_data_trait.html#a86772793fdc93101c78e98e97a265731">  484</a></span>&#160;        <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> <a class="code" href="struct_black_misc_1_1_t_data_trait.html#a86772793fdc93101c78e98e97a265731">isDeferred</a>() { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno"><a class="line" href="struct_black_misc_1_1_t_data_trait.html#abc621362a1b80253c9aead65be7a8b89">  489</a></span>&#160;        <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> <a class="code" href="struct_black_misc_1_1_t_data_trait.html#abc621362a1b80253c9aead65be7a8b89">isSession</a>() { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00492"></a><span class="lineno"><a class="line" href="struct_black_misc_1_1_t_data_trait.html#a07a57f3a2fc543a85b650813812289e6">  492</a></span>&#160;        <a class="code" href="struct_black_misc_1_1_t_data_trait.html#a07a57f3a2fc543a85b650813812289e6">TDataTrait</a>() = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00495"></a><span class="lineno"><a class="line" href="struct_black_misc_1_1_t_data_trait.html#a3bec3fa082a292335455957fda651a3d">  495</a></span>&#160;        <a class="code" href="struct_black_misc_1_1_t_data_trait.html#a3bec3fa082a292335455957fda651a3d">TDataTrait</a>(<span class="keyword">const</span> <a class="code" href="struct_black_misc_1_1_t_data_trait.html">TDataTrait</a> &amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno"><a class="line" href="struct_black_misc_1_1_t_data_trait.html#a97b62962f8f786098bcb926ece357930">  498</a></span>&#160;        <a class="code" href="struct_black_misc_1_1_t_data_trait.html">TDataTrait</a> &amp;<a class="code" href="struct_black_misc_1_1_t_data_trait.html#a97b62962f8f786098bcb926ece357930">operator=</a>(<span class="keyword">const</span> <a class="code" href="struct_black_misc_1_1_t_data_trait.html">TDataTrait</a> &amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    };</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;}</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="ttc" id="ablackmiscexport_8h_html"><div class="ttname"><a href="blackmiscexport_8h.html">blackmiscexport.h</a></div></div>
<div class="ttc" id="ablackmiscexport_8h_html_aa81de5cca8395747bb5765234e28525a"><div class="ttname"><a href="blackmiscexport_8h.html#aa81de5cca8395747bb5765234e28525a">BLACKMISC_EXPORT</a></div><div class="ttdeci">#define BLACKMISC_EXPORT</div><div class="ttdoc">Export a class or function from the library.</div><div class="ttdef"><b>Definition:</b> <a href="blackmiscexport_8h_source.html#l00019">blackmiscexport.h:19</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_cached_html"><div class="ttname"><a href="class_black_misc_1_1_c_cached.html">BlackMisc::CCached</a></div><div class="ttdoc">Provides access to one of the values stored in a CValueCache.</div><div class="ttdef"><b>Definition:</b> <a href="valuecache_8h_source.html#l00345">valuecache.h:346</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_cached_html_a2a3433f3ff0b2246b4c95f7247b75c13"><div class="ttname"><a href="class_black_misc_1_1_c_cached.html#a2a3433f3ff0b2246b4c95f7247b75c13">BlackMisc::CCached&lt; Trait::type &gt;::isInitialized</a></div><div class="ttdeci">bool isInitialized() const</div><div class="ttdoc">Can be false if key contains OwnerName% and owner's objectName was empty.</div><div class="ttdef"><b>Definition:</b> <a href="valuecache_8h_source.html#l00445">valuecache.h:445</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_cached_html_a4e496976a6e1966618eaac048de3f9ee"><div class="ttname"><a href="class_black_misc_1_1_c_cached.html#a4e496976a6e1966618eaac048de3f9ee">BlackMisc::CCached::setProperty</a></div><div class="ttdeci">CStatusMessage setProperty(CPropertyIndexRef index, const CVariant &amp;value, qint64 timestamp=0)</div><div class="ttdoc">Write a property of the value. Must be called from the thread in which the owner lives.</div><div class="ttdef"><b>Definition:</b> <a href="valuecache_8h_source.html#l00406">valuecache.h:406</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_cached_html_a579f979a40f4aef9e09db3937c194a34"><div class="ttname"><a href="class_black_misc_1_1_c_cached.html#a579f979a40f4aef9e09db3937c194a34">BlackMisc::CCached::set</a></div><div class="ttdeci">CStatusMessage set(const T &amp;value, qint64 timestamp=0)</div><div class="ttdoc">Write a new value. Must be called from the thread in which the owner lives.</div><div class="ttdef"><b>Definition:</b> <a href="valuecache_8h_source.html#l00397">valuecache.h:397</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_cached_html_a760d5df89cc1e62ed5934baafdc9cf73"><div class="ttname"><a href="class_black_misc_1_1_c_cached.html#a760d5df89cc1e62ed5934baafdc9cf73">BlackMisc::CCached&lt; Trait::type &gt;::setNotifySlot</a></div><div class="ttdeci">void setNotifySlot(F slot)</div><div class="ttdoc">Set a callback to be called when the value is changed by another source.</div><div class="ttdef"><b>Definition:</b> <a href="valuecache_8h_source.html#l00373">valuecache.h:373</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_cached_html_aaea34f3de59afee42d6e7af265a35a46"><div class="ttname"><a href="class_black_misc_1_1_c_cached.html#aaea34f3de59afee42d6e7af265a35a46">BlackMisc::CCached&lt; Trait::type &gt;::getKey</a></div><div class="ttdeci">const QString &amp; getKey() const</div><div class="ttdoc">Get the key string of this value.</div><div class="ttdef"><b>Definition:</b> <a href="valuecache_8h_source.html#l00425">valuecache.h:425</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_cached_html_aea8ff7336e9d7d51b57987d6202ac319"><div class="ttname"><a href="class_black_misc_1_1_c_cached.html#aea8ff7336e9d7d51b57987d6202ac319">BlackMisc::CCached&lt; Trait::type &gt;::getTimestamp</a></div><div class="ttdeci">QDateTime getTimestamp() const</div><div class="ttdoc">Return the time when this value was updated.</div><div class="ttdef"><b>Definition:</b> <a href="valuecache_8h_source.html#l00429">valuecache.h:429</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_continuous_worker_html"><div class="ttname"><a href="class_black_misc_1_1_c_continuous_worker.html">BlackMisc::CContinuousWorker</a></div><div class="ttdoc">Base class for a long-lived worker object which lives in its own thread.</div><div class="ttdef"><b>Definition:</b> <a href="worker_8h_source.html#l00278">worker.h:279</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_html"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache.html">BlackMisc::CDataCache</a></div><div class="ttdoc">Singleton derived class of CValueCache, for core dynamic data.</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00242">datacache.h:243</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_html_a08d622293ce6e9cfaaad0903e04d95c0"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache.html#a08d622293ce6e9cfaaad0903e04d95c0">BlackMisc::CDataCache::sessionValue</a></div><div class="ttdeci">void sessionValue(const QString &amp;key)</div><div class="ttdoc">Method used for implementing session values.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_html_a0d7a5cd6e7ae8d8c51f5288d2b7e6336"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache.html#a0d7a5cd6e7ae8d8c51f5288d2b7e6336">BlackMisc::CDataCache::~CDataCache</a></div><div class="ttdeci">virtual ~CDataCache()</div><div class="ttdoc">Destructor.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_html_a0f510047085db8b867e1fdb4db9acc86"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache.html#a0f510047085db8b867e1fdb4db9acc86">BlackMisc::CDataCache::deferValue</a></div><div class="ttdeci">void deferValue(const QString &amp;key)</div><div class="ttdoc">Method used for implementing deferring values.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_html_a1cc91871a097b27000f194cc00cb6b4d"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache.html#a1cc91871a097b27000f194cc00cb6b4d">BlackMisc::CDataCache::pinValue</a></div><div class="ttdeci">void pinValue(const QString &amp;key)</div><div class="ttdoc">Method used for implementing pinning values.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_html_a2a831b053cba1f8ee25d64c845040409"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache.html#a2a831b053cba1f8ee25d64c845040409">BlackMisc::CDataCache::persistentStore</a></div><div class="ttdeci">static const QString &amp; persistentStore()</div><div class="ttdoc">The directory where core data are stored.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_html_a45a8059e4823ec051706803d6cf4f497"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache.html#a45a8059e4823ec051706803d6cf4f497">BlackMisc::CDataCache::setTimeToLive</a></div><div class="ttdeci">void setTimeToLive(const QString &amp;key, int ttl)</div><div class="ttdoc">Method used for implementing TTL.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_html_a4e0c91fa9ca87414fdbc7624eb58fe6e"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache.html#a4e0c91fa9ca87414fdbc7624eb58fe6e">BlackMisc::CDataCache::revisionFileName</a></div><div class="ttdeci">static const QString &amp; revisionFileName()</div><div class="ttdoc">Revision file name.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_html_a578fccb4eeeb9995b6f3e431060f4853"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache.html#a578fccb4eeeb9995b6f3e431060f4853">BlackMisc::CDataCache::admitValue</a></div><div class="ttdeci">void admitValue(const QString &amp;key, bool triggerLoad)</div><div class="ttdoc">Method used for implementing deferring values.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_html_a6937ace27175ce84987fb2699a0f6281"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache.html#a6937ace27175ce84987fb2699a0f6281">BlackMisc::CDataCache::synchronize</a></div><div class="ttdeci">bool synchronize(const QString &amp;key)</div><div class="ttdoc">Method used for implementing CData::synchronize.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_html_a8b5fa5b54de7d3a198f65231ec306a93"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache.html#a8b5fa5b54de7d3a198f65231ec306a93">BlackMisc::CDataCache::filenameForKey</a></div><div class="ttdeci">static QString filenameForKey(const QString &amp;key)</div><div class="ttdoc">Return the filename where the value with the given key may be stored.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_html_a8bfb33d0df48c148862163c14b77a56c"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache.html#a8bfb33d0df48c148862163c14b77a56c">BlackMisc::CDataCache::enumerateStore</a></div><div class="ttdeci">QStringList enumerateStore() const</div><div class="ttdoc">Return all files where data may be stored.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_html_aa768c58164151a5914c55702dfad40aa"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache.html#aa768c58164151a5914c55702dfad40aa">BlackMisc::CDataCache::renewTimestamp</a></div><div class="ttdeci">void renewTimestamp(const QString &amp;key, qint64 timestamp)</div><div class="ttdoc">Method used for implementing timestamp renewal.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_html_ab3940d4ab11ba571d0a8b6f12723e02a"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache.html#ab3940d4ab11ba571d0a8b6f12723e02a">BlackMisc::CDataCache::relativeFilePath</a></div><div class="ttdeci">static const QString &amp; relativeFilePath()</div><div class="ttdoc">Relative file path in application data directory.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_html_ac35215df01d3f5462486d9931a79244e"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache.html#ac35215df01d3f5462486d9931a79244e">BlackMisc::CDataCache::instance</a></div><div class="ttdeci">static CDataCache * instance()</div><div class="ttdoc">Return the singleton instance.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_html_ad45590a91aecf1d5682b525a80fde13c"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache.html#ad45590a91aecf1d5682b525a80fde13c">BlackMisc::CDataCache::getTimestampOnDisk</a></div><div class="ttdeci">qint64 getTimestampOnDisk(const QString &amp;key)</div><div class="ttdoc">Method used for implementing loading timestamp without value.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html">BlackMisc::CDataCacheRevision</a></div><div class="ttdoc">Encapsulates metastate about how the version of the cache in memory compares to the one on disk.</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00080">datacache.h:81</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_a0214acc9f54ae75b346344622dbf63db"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#a0214acc9f54ae75b346344622dbf63db">BlackMisc::CDataCacheRevision::pinValue</a></div><div class="ttdeci">void pinValue(const QString &amp;key)</div><div class="ttdoc">Set the flag which will cause the value to be pre-loaded.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_a0ffbbc908df2272a05462cd0d8d8c992"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#a0ffbbc908df2272a05462cd0d8d8c992">BlackMisc::CDataCacheRevision::isNewerValueAvailable</a></div><div class="ttdeci">bool isNewerValueAvailable(const QString &amp;key, qint64 timestamp)</div><div class="ttdoc">During update, returns true if the on-disk timestamp of this key is newer than in-memory.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_a16f73c536879c92e26264e16de25cf46"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#a16f73c536879c92e26264e16de25cf46">BlackMisc::CDataCacheRevision::finishUpdate</a></div><div class="ttdeci">void finishUpdate(bool keepPromises=false)</div><div class="ttdoc">Release the revision file lock and mark everything up-to-date (called by LockGuard destructor).</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_a228378bf83252af730629f7a6cc5675f"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#a228378bf83252af730629f7a6cc5675f">BlackMisc::CDataCacheRevision::~CDataCacheRevision</a></div><div class="ttdeci">~CDataCacheRevision()</div><div class="ttdoc">Destructor.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_a238e1be0bff221a1d67dcb59428badf9"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#a238e1be0bff221a1d67dcb59428badf9">BlackMisc::CDataCacheRevision::beginUpdate</a></div><div class="ttdeci">LockGuard beginUpdate(const QMap&lt; QString, qint64 &gt; &amp;timestamps, bool updateUuid=true, bool pinsOnly=false)</div><div class="ttdoc">Get the state of the disk cache, and prepare to update any values which are out of date....</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_a24ddfadae1d5096017cf04cc7e71cf1f"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#a24ddfadae1d5096017cf04cc7e71cf1f">BlackMisc::CDataCacheRevision::setTimeToLive</a></div><div class="ttdeci">void setTimeToLive(const QString &amp;key, int ttl)</div><div class="ttdoc">Set TTL value that will be written to the revision file.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_a2c5acfc8279a54a7bf629624255b6d86"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#a2c5acfc8279a54a7bf629624255b6d86">BlackMisc::CDataCacheRevision::deferValue</a></div><div class="ttdeci">void deferValue(const QString &amp;key)</div><div class="ttdoc">Set the flag which will cause the value to be deferred-loaded.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_a34dedafbf72dd61758cb27d9bc2c6a53"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#a34dedafbf72dd61758cb27d9bc2c6a53">BlackMisc::CDataCacheRevision::CDataCacheRevision</a></div><div class="ttdeci">CDataCacheRevision(const CDataCacheRevision &amp;)=delete</div><div class="ttdoc">Non-copyable.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_a363eed1b67f004613dc71cf055c1f4c8"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#a363eed1b67f004613dc71cf055c1f4c8">BlackMisc::CDataCacheRevision::writeNewRevision</a></div><div class="ttdeci">void writeNewRevision(const QMap&lt; QString, qint64 &gt; &amp;timestamps, const QSet&lt; QString &gt; &amp;excludeKeys={})</div><div class="ttdoc">During update, writes a new revision file with new timestamps.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_a39bda8f56131f7e91db2e14844e09d3f"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#a39bda8f56131f7e91db2e14844e09d3f">BlackMisc::CDataCacheRevision::isPendingRead</a></div><div class="ttdeci">bool isPendingRead() const</div><div class="ttdoc">True if beginUpdate found some values with timestamps newer than in memory.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_a4adc5f4df2d61c9b7b7c717f4f2938a3"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#a4adc5f4df2d61c9b7b7c717f4f2938a3">BlackMisc::CDataCacheRevision::promiseLoadedValue</a></div><div class="ttdeci">std::future&lt; void &gt; promiseLoadedValue(const QString &amp;key, qint64 currentTimestamp)</div><div class="ttdoc">Return a future which will be made ready when the value is loaded. Future is invalid if value is not ...</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_a4c35ee97ea2f2e6222d52d0a6ca602aa"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#a4c35ee97ea2f2e6222d52d0a6ca602aa">BlackMisc::CDataCacheRevision::timestampsAsString</a></div><div class="ttdeci">QString timestampsAsString() const</div><div class="ttdoc">Keys with timestamps.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_a4f87ffc84baad391afea7fbc62381970"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#a4f87ffc84baad391afea7fbc62381970">BlackMisc::CDataCacheRevision::operator=</a></div><div class="ttdeci">CDataCacheRevision &amp; operator=(const CDataCacheRevision &amp;)=delete</div><div class="ttdoc">Non-copyable.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_a513c266b9ec59abdcd342aab01054188"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#a513c266b9ec59abdcd342aab01054188">BlackMisc::CDataCacheRevision::getTimestampOnDisk</a></div><div class="ttdeci">qint64 getTimestampOnDisk(const QString &amp;key)</div><div class="ttdoc">Read the revision file to get a timestamp.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_a5253153dedc49162a6b300094280ab9e"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#a5253153dedc49162a6b300094280ab9e">BlackMisc::CDataCacheRevision::loadedValuePromises</a></div><div class="ttdeci">std::vector&lt; std::promise&lt; void &gt; &gt; loadedValuePromises()</div><div class="ttdoc">Returns (by move) the container of promises to load values.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_a5a9afe1bbc920fffe3551c5245e7c9ca"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#a5a9afe1bbc920fffe3551c5245e7c9ca">BlackMisc::CDataCacheRevision::admitValue</a></div><div class="ttdeci">void admitValue(const QString &amp;key)</div><div class="ttdoc">Set the flag which will cause a deferred-load value to be loaded.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_a5ca1810f6356d6afef01b872eb81e619"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#a5ca1810f6356d6afef01b872eb81e619">BlackMisc::CDataCacheRevision::newerTimestamps</a></div><div class="ttdeci">const QMap&lt; QString, qint64 &gt; &amp; newerTimestamps() const</div><div class="ttdoc">During update, returns timestamps which have on-disk timestamps newer than in-memory....</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_a77f8945e24cc9e3448f8b441edd6879d"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#a77f8945e24cc9e3448f8b441edd6879d">BlackMisc::CDataCacheRevision::overrideTimestamp</a></div><div class="ttdeci">void overrideTimestamp(const QString &amp;key, qint64 timestamp)</div><div class="ttdoc">Causes the new timestamp to be written to the revision file.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_a7a35892b4da413c52e4db46d1a99683e"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#a7a35892b4da413c52e4db46d1a99683e">BlackMisc::CDataCacheRevision::regenerate</a></div><div class="ttdeci">void regenerate(const CValueCachePacket &amp;keys)</div><div class="ttdoc">Write a new revision file with keys deduced from the available JSON files.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_aa5126fd40ad11984c349fcd3d7ad3903"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#aa5126fd40ad11984c349fcd3d7ad3903">BlackMisc::CDataCacheRevision::sessionValue</a></div><div class="ttdeci">void sessionValue(const QString &amp;key)</div><div class="ttdoc">Set the flag which will cause a value to be reset when starting a new session.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_aacb58f3165b2b9424718b041d148fceb"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#aacb58f3165b2b9424718b041d148fceb">BlackMisc::CDataCacheRevision::breakPromises</a></div><div class="ttdeci">void breakPromises()</div><div class="ttdoc">Abandon all promises.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_abdee9edba23292ff0a36739d62961fdf"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#abdee9edba23292ff0a36739d62961fdf">BlackMisc::CDataCacheRevision::keysWithNewerTimestamps</a></div><div class="ttdeci">QSet&lt; QString &gt; keysWithNewerTimestamps() const</div><div class="ttdoc">During update, returns keys which have on-disk timestamps newer than in-memory. Guaranteed not empty.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_ada8815061b692ccafe79aa19d333d278"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#ada8815061b692ccafe79aa19d333d278">BlackMisc::CDataCacheRevision::CDataCacheRevision</a></div><div class="ttdeci">CDataCacheRevision(const QString &amp;basename)</div><div class="ttdoc">Construct the single instance of the revision metastate.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_aef7295a8f44bf9471b488106d6bd9c9d"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#aef7295a8f44bf9471b488106d6bd9c9d">BlackMisc::CDataCacheRevision::notifyPendingWrite</a></div><div class="ttdeci">void notifyPendingWrite()</div><div class="ttdoc">Call before beginUpdate if there is a write pending, so update will start even if there is nothing to...</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_revision_html_af5f5070573a33ff7e517c46798925532"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_revision.html#af5f5070573a33ff7e517c46798925532">BlackMisc::CDataCacheRevision::isFound</a></div><div class="ttdeci">bool isFound() const</div><div class="ttdoc">Existing revision file was found.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_serializer_html"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_serializer.html">BlackMisc::CDataCacheSerializer</a></div><div class="ttdoc">Worker which performs (de)serialization on behalf of CDataCache, in a separate thread so that the mai...</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00200">datacache.h:201</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_serializer_html_a429de863705d38d4e75674e13446fc68"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_serializer.html#a429de863705d38d4e75674e13446fc68">BlackMisc::CDataCacheSerializer::loadFromStore</a></div><div class="ttdeci">CDataCacheRevision::LockGuard loadFromStore(const BlackMisc::CValueCachePacket &amp;baseline, bool defer=false, bool pinsOnly=false)</div><div class="ttdoc">Load values from persistent store. Called once per second. Also called by saveToStore,...</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_serializer_html_a5778639d28764cdbf6b72b8ae2eacd9f"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_serializer.html#a5778639d28764cdbf6b72b8ae2eacd9f">BlackMisc::CDataCacheSerializer::getLogCategories</a></div><div class="ttdeci">static const QStringList &amp; getLogCategories()</div><div class="ttdoc">Log categories.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_serializer_html_ab593d503596b3217ffbf834cf9648878"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_serializer.html#ab593d503596b3217ffbf834cf9648878">BlackMisc::CDataCacheSerializer::valuesLoadedFromStore</a></div><div class="ttdeci">void valuesLoadedFromStore(const BlackMisc::CValueCachePacket &amp;values, const BlackMisc::CIdentifier &amp;originator)</div><div class="ttdoc">Signal back to the cache when values have been loaded.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_serializer_html_ac3a0e879e2f8cb0e993017b0701bad3e"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_serializer.html#ac3a0e879e2f8cb0e993017b0701bad3e">BlackMisc::CDataCacheSerializer::CDataCacheSerializer</a></div><div class="ttdeci">CDataCacheSerializer(CDataCache *owner, const QString &amp;revisionFileName)</div><div class="ttdoc">Constructor.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_cache_serializer_html_aedf34f3c4b22d7c643a9396989eaedf1"><div class="ttname"><a href="class_black_misc_1_1_c_data_cache_serializer.html#aedf34f3c4b22d7c643a9396989eaedf1">BlackMisc::CDataCacheSerializer::saveToStore</a></div><div class="ttdeci">void saveToStore(const BlackMisc::CVariantMap &amp;values, const BlackMisc::CValueCachePacket &amp;baseline)</div><div class="ttdoc">Save values to persistent store. Called whenever a value is changed locally.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_html"><div class="ttname"><a href="class_black_misc_1_1_c_data.html">BlackMisc::CData</a></div><div class="ttdoc">Class template for accessing a specific value in the CDataCache.</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00312">datacache.h:313</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_html_a07ad93f148377bd019ee662b5c478e9d"><div class="ttname"><a href="class_black_misc_1_1_c_data.html#a07ad93f148377bd019ee662b5c478e9d">BlackMisc::CData::admit</a></div><div class="ttdeci">void admit()</div><div class="ttdoc">If the value is load-deferred, trigger the deferred load (async).</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00376">datacache.h:376</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_html_a0ecb978f561df53a38ff9b9592450229"><div class="ttname"><a href="class_black_misc_1_1_c_data.html#a0ecb978f561df53a38ff9b9592450229">BlackMisc::CData::synchronize</a></div><div class="ttdeci">void synchronize()</div><div class="ttdoc">If the value is currently being loaded, wait for it to finish loading, and call the notification slot...</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00382">datacache.h:382</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_html_a22cb0e433f5813731b59fb3a211350c9"><div class="ttname"><a href="class_black_misc_1_1_c_data.html#a22cb0e433f5813731b59fb3a211350c9">BlackMisc::CData::setProperty</a></div><div class="ttdeci">CStatusMessage setProperty(CPropertyIndexRef index, const CVariant &amp;value, qint64 timestamp=0)</div><div class="ttdoc">Write a property of the value. Must be called from the thread in which the owner lives.</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00350">datacache.h:350</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_html_a4b503f7e102d0109a961681daa06c1fb"><div class="ttname"><a href="class_black_misc_1_1_c_data.html#a4b503f7e102d0109a961681daa06c1fb">BlackMisc::CData::CData</a></div><div class="ttdeci">CData(T *owner)</div><div class="ttdoc">Constructor.</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00318">datacache.h:318</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_html_a64aeb42be80a42e4d5a02ce91bf45459"><div class="ttname"><a href="class_black_misc_1_1_c_data.html#a64aeb42be80a42e4d5a02ce91bf45459">BlackMisc::CData::setAndSave</a></div><div class="ttdeci">CStatusMessage setAndSave(const typename Trait::type &amp;value, qint64 timestamp=0)=delete</div><div class="ttdoc">Data cache doesn't support setAndSave (because set() already causes save anyway).</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_html_a75f69fd53214774b93b57a8b45bf4169"><div class="ttname"><a href="class_black_misc_1_1_c_data.html#a75f69fd53214774b93b57a8b45bf4169">BlackMisc::CData::setDefault</a></div><div class="ttdeci">CStatusMessage setDefault()</div><div class="ttdoc">Reset the data to its default value.</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00357">datacache.h:357</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_html_a88669e532bf9353f3d27ebaca522ebcd"><div class="ttname"><a href="class_black_misc_1_1_c_data.html#a88669e532bf9353f3d27ebaca522ebcd">BlackMisc::CData::getAvailableTimestamp</a></div><div class="ttdeci">QDateTime getAvailableTimestamp() const</div><div class="ttdoc">Get the timestamp of the value, or of the deferred value that is available to be loaded.</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00369">datacache.h:369</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_html_a8ae3da803c9e4356f3bf3b729306eca4"><div class="ttname"><a href="class_black_misc_1_1_c_data.html#a8ae3da803c9e4356f3bf3b729306eca4">BlackMisc::CData::set</a></div><div class="ttdeci">CStatusMessage set(const typename Trait::type &amp;value, qint64 timestamp=0)</div><div class="ttdoc">Write a new value. Must be called from the thread in which the owner lives.</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00343">datacache.h:343</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_html_aa390e151a71f6fa384563676258949ce"><div class="ttname"><a href="class_black_misc_1_1_c_data.html#aa390e151a71f6fa384563676258949ce">BlackMisc::CData::getFilename</a></div><div class="ttdeci">QString getFilename() const</div><div class="ttdoc">Return the file that is used for persistence for this value.</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00360">datacache.h:360</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_html_aa9a18bd2fa9b2d4f800c6345f0f48dd6"><div class="ttname"><a href="class_black_misc_1_1_c_data.html#aa9a18bd2fa9b2d4f800c6345f0f48dd6">BlackMisc::CData::save</a></div><div class="ttdeci">CStatusMessage save()=delete</div><div class="ttdoc">Data cache doesn't support save (because currently set value is saved already).</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_html_ab7e221aa73f137f1d772a505496cb083"><div class="ttname"><a href="class_black_misc_1_1_c_data.html#ab7e221aa73f137f1d772a505496cb083">BlackMisc::CData::CData</a></div><div class="ttdeci">CData(T *owner, F slot)</div><div class="ttdoc">Constructor.</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00337">datacache.h:337</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_html_abb2b4594b64893247df9bcf1f17cce5d"><div class="ttname"><a href="class_black_misc_1_1_c_data.html#abb2b4594b64893247df9bcf1f17cce5d">BlackMisc::CData::renewTimestamp</a></div><div class="ttdeci">void renewTimestamp(qint64 timestamp)</div><div class="ttdoc">Don't change the value, but write a new timestamp, to extend the life of the value.</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00366">datacache.h:366</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_html_acde5a66c00255d134d9997b7dfd2f6ee"><div class="ttname"><a href="class_black_misc_1_1_c_data.html#acde5a66c00255d134d9997b7dfd2f6ee">BlackMisc::CData::isStale</a></div><div class="ttdeci">bool isStale() const</div><div class="ttdoc">True if the current timestamp is older than the TTL (time to live).</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00363">datacache.h:363</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_html_ae541fc0908a2222825b9594fc1688188"><div class="ttname"><a href="class_black_misc_1_1_c_data.html#ae541fc0908a2222825b9594fc1688188">BlackMisc::CData::setAndSaveProperty</a></div><div class="ttdeci">CStatusMessage setAndSaveProperty(CPropertyIndexRef index, const CVariant &amp;value, qint64 timestamp=0)=delete</div><div class="ttdoc">Data cache doesn't support setAndSave (because set() already causes save anyway).</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_read_only_html"><div class="ttname"><a href="class_black_misc_1_1_c_data_read_only.html">BlackMisc::CDataReadOnly</a></div><div class="ttdoc">Class template for read-only access to a specific value in the CDataCache.</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00419">datacache.h:420</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_read_only_html_a0f6292283500c4592495daa4d39dbbc9"><div class="ttname"><a href="class_black_misc_1_1_c_data_read_only.html#a0f6292283500c4592495daa4d39dbbc9">BlackMisc::CDataReadOnly::setDefault</a></div><div class="ttdeci">CStatusMessage setDefault()=delete</div><div class="ttdoc">Deleted mutators.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_read_only_html_a14f3bf65598c34da0b025376062c5977"><div class="ttname"><a href="class_black_misc_1_1_c_data_read_only.html#a14f3bf65598c34da0b025376062c5977">BlackMisc::CDataReadOnly::setProperty</a></div><div class="ttdeci">CStatusMessage setProperty(CPropertyIndexRef index, const CVariant &amp;value, qint64 timestamp=0)=delete</div><div class="ttdoc">Deleted mutators.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_read_only_html_aadf08627d5f5307972d490ed1253e893"><div class="ttname"><a href="class_black_misc_1_1_c_data_read_only.html#aadf08627d5f5307972d490ed1253e893">BlackMisc::CDataReadOnly::renewTimestamp</a></div><div class="ttdeci">void renewTimestamp(qint64 timestamp)=delete</div><div class="ttdoc">Deleted mutators.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_data_read_only_html_abbd6992bbbc5e607410d5145a99fd441"><div class="ttname"><a href="class_black_misc_1_1_c_data_read_only.html#abbd6992bbbc5e607410d5145a99fd441">BlackMisc::CDataReadOnly::set</a></div><div class="ttdeci">CStatusMessage set(const typename Trait::type &amp;value, qint64 timestamp=0)=delete</div><div class="ttdoc">Deleted mutators.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_identifier_html"><div class="ttname"><a href="class_black_misc_1_1_c_identifier.html">BlackMisc::CIdentifier</a></div><div class="ttdoc">Value object encapsulating information identifying a component of a modular distributed swift process...</div><div class="ttdef"><b>Definition:</b> <a href="identifier_8h_source.html#l00027">identifier.h:28</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_property_index_ref_html"><div class="ttname"><a href="class_black_misc_1_1_c_property_index_ref.html">BlackMisc::CPropertyIndexRef</a></div><div class="ttdoc">Non-owning reference to a CPropertyIndex with a subset of its features.</div><div class="ttdef"><b>Definition:</b> <a href="propertyindexref_8h_source.html#l00018">propertyindexref.h:19</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_status_message_html"><div class="ttname"><a href="class_black_misc_1_1_c_status_message.html">BlackMisc::CStatusMessage</a></div><div class="ttdoc">Streamable status message, e.g.</div><div class="ttdef"><b>Definition:</b> <a href="statusmessage_8h_source.html#l00386">statusmessage.h:391</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_thread_utils_html_abc2347825105140bedb6d779395f4533"><div class="ttname"><a href="class_black_misc_1_1_c_thread_utils.html#abc2347825105140bedb6d779395f4533">BlackMisc::CThreadUtils::isInThisThread</a></div><div class="ttdeci">static bool isInThisThread(const QObject *toBeTested)</div><div class="ttdoc">Is the current thread the object's thread?</div><div class="ttdef"><b>Definition:</b> <a href="threadutils_8cpp_source.html#l00015">threadutils.cpp:15</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_value_cache_html"><div class="ttname"><a href="class_black_misc_1_1_c_value_cache.html">BlackMisc::CValueCache</a></div><div class="ttdoc">Manages a map of { QString, CVariant } pairs, which can be distributed among multiple processes.</div><div class="ttdef"><b>Definition:</b> <a href="valuecache_8h_source.html#l00153">valuecache.h:154</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_value_cache_packet_html"><div class="ttname"><a href="class_black_misc_1_1_c_value_cache_packet.html">BlackMisc::CValueCachePacket</a></div><div class="ttdoc">Value class used for signalling changed values in the cache.</div><div class="ttdef"><b>Definition:</b> <a href="valuecache_8h_source.html#l00061">valuecache.h:67</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_variant_html"><div class="ttname"><a href="class_black_misc_1_1_c_variant.html">BlackMisc::CVariant</a></div><div class="ttdoc">Wrapper around QVariant which provides transparent access to CValueObject methods of the contained ob...</div><div class="ttdef"><b>Definition:</b> <a href="variant_8h_source.html#l00056">variant.h:63</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_c_variant_map_html"><div class="ttname"><a href="class_black_misc_1_1_c_variant_map.html">BlackMisc::CVariantMap</a></div><div class="ttdoc">Map of { QString, CVariant } pairs.</div><div class="ttdef"><b>Definition:</b> <a href="variantmap_8h_source.html#l00031">variantmap.h:34</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_private_1_1_c_data_page_queue_html"><div class="ttname"><a href="class_black_misc_1_1_private_1_1_c_data_page_queue.html">BlackMisc::Private::CDataPageQueue</a></div><div class="ttdoc">Decorator for CValuePage which allows incoming remote changes to be queued to allow for more flexibil...</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00049">datacache.h:50</a></div></div>
<div class="ttc" id="aclass_black_misc_1_1_private_1_1_c_data_page_queue_html_a35ec41b37e220081ce834c3769142ab2"><div class="ttname"><a href="class_black_misc_1_1_private_1_1_c_data_page_queue.html#a35ec41b37e220081ce834c3769142ab2">BlackMisc::Private::CDataPageQueue::queueValuesFromCache</a></div><div class="ttdeci">void queueValuesFromCache(const BlackMisc::CValueCachePacket &amp;values, QObject *changedBy)</div><div class="ttdoc">Add to the queue to synchronize with a change caused by another page.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_private_1_1_c_data_page_queue_html_a638baf10ef9897d7a3a8d991b799271f"><div class="ttname"><a href="class_black_misc_1_1_private_1_1_c_data_page_queue.html#a638baf10ef9897d7a3a8d991b799271f">BlackMisc::Private::CDataPageQueue::setQueuedValueFromCache</a></div><div class="ttdeci">void setQueuedValueFromCache(const QString &amp;key)</div><div class="ttdoc">Synchronize with one specific change in the queue, leave the rest for later.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_private_1_1_c_data_page_queue_html_a92fd38dfa86efeaea4c99e998b477558"><div class="ttname"><a href="class_black_misc_1_1_private_1_1_c_data_page_queue.html#a92fd38dfa86efeaea4c99e998b477558">BlackMisc::Private::CDataPageQueue::setQueuedValuesFromCache</a></div><div class="ttdeci">void setQueuedValuesFromCache()</div><div class="ttdoc">Synchronize with changes queued by queueValuesFromCache.</div></div>
<div class="ttc" id="aclass_black_misc_1_1_private_1_1_c_data_page_queue_html_ab04ef893066cecb77dd521dce97e1026"><div class="ttname"><a href="class_black_misc_1_1_private_1_1_c_data_page_queue.html#ab04ef893066cecb77dd521dce97e1026">BlackMisc::Private::CDataPageQueue::CDataPageQueue</a></div><div class="ttdeci">CDataPageQueue(CValuePage *parent)</div><div class="ttdoc">Constructor.</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00055">datacache.h:55</a></div></div>
<div class="ttc" id="aidentifier_8h_html"><div class="ttname"><a href="identifier_8h.html">identifier.h</a></div></div>
<div class="ttc" id="alogcategories_8h_html"><div class="ttname"><a href="logcategories_8h.html">logcategories.h</a></div></div>
<div class="ttc" id="anamespace_black_misc_html"><div class="ttname"><a href="namespace_black_misc.html">BlackMisc</a></div><div class="ttdoc">Base and utility classes available in all other projects.</div><div class="ttdef"><b>Definition:</b> <a href="aircraftmatcher_8h_source.html#l00028">aircraftmatcher.h:29</a></div></div>
<div class="ttc" id="apropertyindexref_8h_html"><div class="ttname"><a href="propertyindexref_8h.html">propertyindexref.h</a></div></div>
<div class="ttc" id="aqdatetime_html"><div class="ttname"><a href="http://doc.qt.io/qt-5/qdatetime.html">QDateTime</a></div></div>
<div class="ttc" id="aqdatetime_html_currentMSecsSinceEpoch"><div class="ttname"><a href="http://doc.qt.io/qt-5/qdatetime.html#currentMSecsSinceEpoch">QDateTime::currentMSecsSinceEpoch</a></div><div class="ttdeci">qint64 currentMSecsSinceEpoch()</div></div>
<div class="ttc" id="aqdatetime_html_fromMSecsSinceEpoch"><div class="ttname"><a href="http://doc.qt.io/qt-5/qdatetime.html#fromMSecsSinceEpoch">QDateTime::fromMSecsSinceEpoch</a></div><div class="ttdeci">QDateTime fromMSecsSinceEpoch(qint64 msecs)</div></div>
<div class="ttc" id="aqfilesystemwatcher_html"><div class="ttname"><a href="http://doc.qt.io/qt-5/qfilesystemwatcher.html">QFileSystemWatcher</a></div></div>
<div class="ttc" id="aqjsonarray_html"><div class="ttname"><a href="http://doc.qt.io/qt-5/qjsonarray.html">QJsonArray</a></div></div>
<div class="ttc" id="aqjsonobject_html"><div class="ttname"><a href="http://doc.qt.io/qt-5/qjsonobject.html">QJsonObject</a></div></div>
<div class="ttc" id="aqlist_html"><div class="ttname"><a href="http://doc.qt.io/qt-5/qlist.html">QList</a></div></div>
<div class="ttc" id="aqlockfile_html"><div class="ttname"><a href="http://doc.qt.io/qt-5/qlockfile.html">QLockFile</a></div></div>
<div class="ttc" id="aqmap_html"><div class="ttname"><a href="http://doc.qt.io/qt-5/qmap.html">QMap&lt; QString, qint64 &gt;</a></div></div>
<div class="ttc" id="aqmutex_html"><div class="ttname"><a href="http://doc.qt.io/qt-5/qmutex.html">QMutex</a></div></div>
<div class="ttc" id="aqobject_html"><div class="ttname"><a href="http://doc.qt.io/qt-5/qobject.html">QObject</a></div></div>
<div class="ttc" id="aqpointer_html"><div class="ttname"><a href="http://doc.qt.io/qt-5/qpointer.html">QPointer&lt; QObject &gt;</a></div></div>
<div class="ttc" id="aqrecursivemutex_html"><div class="ttname"><a href="http://doc.qt.io/qt-5/qrecursivemutex.html">QRecursiveMutex</a></div></div>
<div class="ttc" id="aqset_html"><div class="ttname"><a href="http://doc.qt.io/qt-5/qset.html">QSet&lt; QString &gt;</a></div></div>
<div class="ttc" id="aqstring_html"><div class="ttname"><a href="http://doc.qt.io/qt-5/qstring.html">QString</a></div></div>
<div class="ttc" id="aqstringlist_html"><div class="ttname"><a href="http://doc.qt.io/qt-5/qstringlist.html">QStringList</a></div></div>
<div class="ttc" id="aqtimer_html_singleShot-prop"><div class="ttname"><a href="http://doc.qt.io/qt-5/qtimer.html#singleShot-prop">QTimer::singleShot</a></div><div class="ttdeci">singleShot</div></div>
<div class="ttc" id="aquuid_html"><div class="ttname"><a href="http://doc.qt.io/qt-5/quuid.html">QUuid</a></div></div>
<div class="ttc" id="astatusmessage_8h_html"><div class="ttname"><a href="statusmessage_8h.html">statusmessage.h</a></div></div>
<div class="ttc" id="astruct_black_misc_1_1_t_data_trait_html"><div class="ttname"><a href="struct_black_misc_1_1_t_data_trait.html">BlackMisc::TDataTrait</a></div><div class="ttdoc">Base class for traits to be used as template argument to BlackMisc::CData.</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00438">datacache.h:439</a></div></div>
<div class="ttc" id="astruct_black_misc_1_1_t_data_trait_html_a07a57f3a2fc543a85b650813812289e6"><div class="ttname"><a href="struct_black_misc_1_1_t_data_trait.html#a07a57f3a2fc543a85b650813812289e6">BlackMisc::TDataTrait::TDataTrait</a></div><div class="ttdeci">TDataTrait()=delete</div><div class="ttdoc">Deleted default constructor.</div></div>
<div class="ttc" id="astruct_black_misc_1_1_t_data_trait_html_a3815c6d6a13d015acc2719a9452d86c4"><div class="ttname"><a href="struct_black_misc_1_1_t_data_trait.html#a3815c6d6a13d015acc2719a9452d86c4">BlackMisc::TDataTrait::humanReadable</a></div><div class="ttdeci">static const QString &amp; humanReadable()</div><div class="ttdoc">Optional human readable name.</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00451">datacache.h:451</a></div></div>
<div class="ttc" id="astruct_black_misc_1_1_t_data_trait_html_a3bec3fa082a292335455957fda651a3d"><div class="ttname"><a href="struct_black_misc_1_1_t_data_trait.html#a3bec3fa082a292335455957fda651a3d">BlackMisc::TDataTrait::TDataTrait</a></div><div class="ttdeci">TDataTrait(const TDataTrait &amp;)=delete</div><div class="ttdoc">Deleted copy constructor.</div></div>
<div class="ttc" id="astruct_black_misc_1_1_t_data_trait_html_a434bda91aae53104e2d6d4b33f4aa849"><div class="ttname"><a href="struct_black_misc_1_1_t_data_trait.html#a434bda91aae53104e2d6d4b33f4aa849">BlackMisc::TDataTrait::key</a></div><div class="ttdeci">static const char * key()</div><div class="ttdoc">Key string of the value. Reimplemented in derived class.</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00444">datacache.h:444</a></div></div>
<div class="ttc" id="astruct_black_misc_1_1_t_data_trait_html_a6cc0ffba04594c1b4ca012ea523724df"><div class="ttname"><a href="struct_black_misc_1_1_t_data_trait.html#a6cc0ffba04594c1b4ca012ea523724df">BlackMisc::TDataTrait::type</a></div><div class="ttdeci">T type</div><div class="ttdoc">Data type of the value.</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00441">datacache.h:441</a></div></div>
<div class="ttc" id="astruct_black_misc_1_1_t_data_trait_html_a86772793fdc93101c78e98e97a265731"><div class="ttname"><a href="struct_black_misc_1_1_t_data_trait.html#a86772793fdc93101c78e98e97a265731">BlackMisc::TDataTrait::isDeferred</a></div><div class="ttdeci">static constexpr bool isDeferred()</div><div class="ttdoc">If true, then value will not be loaded until it is explicitly admitted. Good for large values the loa...</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00484">datacache.h:484</a></div></div>
<div class="ttc" id="astruct_black_misc_1_1_t_data_trait_html_a97b62962f8f786098bcb926ece357930"><div class="ttname"><a href="struct_black_misc_1_1_t_data_trait.html#a97b62962f8f786098bcb926ece357930">BlackMisc::TDataTrait::operator=</a></div><div class="ttdeci">TDataTrait &amp; operator=(const TDataTrait &amp;)=delete</div><div class="ttdoc">Deleted copy assignment operator.</div></div>
<div class="ttc" id="astruct_black_misc_1_1_t_data_trait_html_aaeb1824a0952c1953e8f2f97750423c1"><div class="ttname"><a href="struct_black_misc_1_1_t_data_trait.html#aaeb1824a0952c1953e8f2f97750423c1">BlackMisc::TDataTrait::timeToLive</a></div><div class="ttdeci">static int timeToLive()</div><div class="ttdoc">Number of milliseconds after which cached value becomes stale. Default is -1 which means value never ...</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00476">datacache.h:476</a></div></div>
<div class="ttc" id="astruct_black_misc_1_1_t_data_trait_html_abc621362a1b80253c9aead65be7a8b89"><div class="ttname"><a href="struct_black_misc_1_1_t_data_trait.html#abc621362a1b80253c9aead65be7a8b89">BlackMisc::TDataTrait::isSession</a></div><div class="ttdeci">static constexpr bool isSession()</div><div class="ttdoc">If true, then upon starting an application, value will be overwritten with the default if there are n...</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00489">datacache.h:489</a></div></div>
<div class="ttc" id="astruct_black_misc_1_1_t_data_trait_html_ac41a4bf2600fd0894166cd8826100af6"><div class="ttname"><a href="struct_black_misc_1_1_t_data_trait.html#ac41a4bf2600fd0894166cd8826100af6">BlackMisc::TDataTrait::defaultValue</a></div><div class="ttdeci">static const T &amp; defaultValue()</div><div class="ttdoc">Return the value to use in case the supplied value does not satisfy the validator....</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00468">datacache.h:468</a></div></div>
<div class="ttc" id="astruct_black_misc_1_1_t_data_trait_html_aef9fafa359e3994ef9db5e7e693c99f2"><div class="ttname"><a href="struct_black_misc_1_1_t_data_trait.html#aef9fafa359e3994ef9db5e7e693c99f2">BlackMisc::TDataTrait::isPinned</a></div><div class="ttdeci">static constexpr bool isPinned()</div><div class="ttdoc">If true, then value will be synchronously loaded when CDataCache is constructed. Good for small,...</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00480">datacache.h:480</a></div></div>
<div class="ttc" id="astruct_black_misc_1_1_t_data_trait_html_af6a400d83bbd0486d9fb393e5e2dff03"><div class="ttname"><a href="struct_black_misc_1_1_t_data_trait.html#af6a400d83bbd0486d9fb393e5e2dff03">BlackMisc::TDataTrait::isValid</a></div><div class="ttdeci">static bool isValid(const T &amp;value, QString &amp;reason)</div><div class="ttdoc">Validator function. Return true if the argument is valid, false otherwise. Default implementation jus...</div><div class="ttdef"><b>Definition:</b> <a href="datacache_8h_source.html#l00459">datacache.h:459</a></div></div>
<div class="ttc" id="athreadutils_8h_html"><div class="ttname"><a href="threadutils_8h.html">threadutils.h</a></div></div>
<div class="ttc" id="avaluecache_8h_html"><div class="ttname"><a href="valuecache_8h.html">valuecache.h</a></div></div>
<div class="ttc" id="avaluecacheprivate_8h_html"><div class="ttname"><a href="valuecacheprivate_8h.html">valuecacheprivate.h</a></div></div>
<div class="ttc" id="avariantmap_8h_html"><div class="ttname"><a href="variantmap_8h.html">variantmap.h</a></div></div>
<div class="ttc" id="aworker_8h_html"><div class="ttname"><a href="worker_8h.html">worker.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Dec 3 2023 17:47:26 for swift by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
